<!DOCTYPE HTML>
<html lang="ko" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>소멸자 - The Rust Reference</title>


        <!-- Custom HTML head -->

        <script async src="https://www.googletagmanager.com/gtag/js?id=G-L455DH98TK"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
        
          gtag('config', 'G-L455DH98TK');
        </script>
        
        
        <script>
            (function () {
                // See these pages for details:
                // https://developers.google.com/search/docs/crawling-indexing/consolidate-duplicate-urls
                // https://developers.google.com/search/docs/crawling-indexing/javascript/javascript-seo-basics
        
                function gen_canonical_href(lang) {
        
                    let base = "https://rust-lang-translations.org/reference";
        
                    let canonical_href;
                    if (lang == "en") {
                        canonical_href = `${base}/destructors.md`;
                    } else {
                        canonical_href = `${base}/${lang}/destructors.md`;
                    }
                    canonical_href = canonical_href.slice(0, -"md".length) + "html";
                    if (canonical_href.endsWith("/index.html")) {
                        canonical_href = canonical_href.slice(0, -"index.html".length);
                    }
                    return canonical_href;
                }
        
                const canonical_href = gen_canonical_href("ko");

                let link = document.createElement("link");
                link.rel = "canonical";
                link.href = canonical_href;
                document.head.appendChild(link);
        
        
                const langs = ["en"  , "ko" ];
        
                for (const lang of langs) {
                    const canonical_href = gen_canonical_href(lang);
        
                    let link = document.createElement("link");
                    link.rel = "alternate";
                    link.hreflang = lang;
                    link.href = canonical_href;
                    document.head.appendChild(link);
                }
            })()
        </script>
        

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-ae938929.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/reference-bb0bdaf8.css">
        <link rel="stylesheet" href="theme/language-picker-00e4db94.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-de0d1ba3.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-f44ceee2.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rust Reference</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/rust-lang-translations/project" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>
                        <a href="https://github.com/rust-lang/reference/edit/master/src/destructors.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <span class=fa-svg id="git-edit-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <div class="rule" id="r-destructors"><a class="rule-link" href="#r-destructors" title="destructors"><span>[destructors]</span></a>
</div>

<h1 id="소멸자"><a class="header" href="#소멸자">소멸자</a></h1>
<div class="rule" id="r-destructors.intro"><a class="rule-link" href="#r-destructors.intro" title="destructors.intro"><span>[destructors<wbr>.intro]</span></a>
</div>

<p>When an <a href="glossary.html#initialized">initialized</a> <a href="variables.html">variable</a> or <a href="expressions.html#temporaries">temporary</a> goes out of <a href="#drop-scopes">scope</a>, its <em>destructor</em> is run or it is <em>dropped</em>. <a href="expressions/operator-expr.html#assignment-expressions">Assignment</a> also runs the destructor of its left-hand operand, if it’s initialized. If a variable has been partially initialized, only its initialized fields are dropped.</p>
<div class="rule" id="r-destructors.operation"><a class="rule-link" href="#r-destructors.operation" title="destructors.operation"><span>[destructors<wbr>.operation]</span></a>
</div>

<p>타입 <code>T</code> 의 소멸자는 다음과 같이 구성됩니다.</p>
<ol>
<li>If <code>T: Drop</code>, calling <a href="../core/ops/drop/trait.Drop.html#tymethod.drop"><code>&lt;T as core::ops::Drop&gt;::drop</code></a></li>
<li>모든 필드에 대해 재귀적으로 소멸자 실행.
<ul>
<li><a href="types/struct.html">구조체(struct)</a> 의 필드들은 선언된 순서대로 드롭됩니다.</li>
<li>활성 <a href="types/enum.html">열거형 변형(enum variant)</a> 의 필드들은 선언된 순서대로 드롭됩니다.</li>
<li><a href="types/tuple.html">튜플(tuple)</a> 의 필드들은 순서대로 드롭됩니다.</li>
<li><a href="types/array.html">배열(array)</a> 또는 소유권이 있는 <a href="types/slice.html">슬라이스(slice)</a> 의 요소들은 첫 번째 요소부터 마지막 요소 순으로 드롭됩니다.</li>
<li><a href="types/closure.html">클로저(closure)</a> 가 이동(move)으로 캡처한 변수들은 지정되지 않은 순서대로 드롭됩니다.</li>
<li><a href="types/trait-object.html">트레잇 객체(Trait objects)</a> 는 기저 타입(underlying type)의 소멸자를 실행합니다.</li>
<li>다른 타입들은 추가적인 드롭을 발생시키지 않습니다.</li>
</ul>
</li>
</ol>
<div class="rule" id="r-destructors.drop_in_place"><a class="rule-link" href="#r-destructors.drop_in_place" title="destructors.drop_in_place"><span>[destructors<wbr>.drop_in_place]</span></a>
</div>

<p>If a destructor must be run manually, such as when implementing your own smart pointer, <a href="../core/ptr/fn.drop_in_place.html"><code>core::ptr::drop_in_place</code></a> can be used.</p>
<p>몇 가지 예제:</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct PrintOnDrop(&amp;'static str);

impl Drop for PrintOnDrop {
    fn drop(&amp;mut self) {
        println!("{}", self.0);
    }
}

let mut overwritten = PrintOnDrop("덮어써질 때 드롭됨");
overwritten = PrintOnDrop("스코프가 끝날 때 드롭됨");

let tuple = (PrintOnDrop("튜플 첫 번째"), PrintOnDrop("튜플 두 번째"));

let moved;
// 할당 시 소멸자가 실행되지 않음.
moved = PrintOnDrop("이동될 때 드롭됨");
// 지금 드롭되지만, 그 후에는 초기화되지 않은 상태가 됩니다.
moved;

// 초기화되지 않은 상태에서는 드롭되지 않습니다.
let uninitialized: PrintOnDrop;

// 부분 이동 후에는 남아 있는 필드만 드롭됩니다.
let mut partial_move = (PrintOnDrop("first"), PrintOnDrop("잊힘(forgotten)"));
// 부분 이동을 수행하여 `partial_move.0` 만 초기화된 상태로 남깁니다.
core::mem::forget(partial_move.1);
// partial_move의 스코프가 끝나면 첫 번째 필드만 드롭됩니다.
<span class="boring">}</span></code></pre>
<div class="rule" id="r-destructors.scope"><a class="rule-link" href="#r-destructors.scope" title="destructors.scope"><span>[destructors<wbr>.scope]</span></a>
</div>

<h2 id="드롭-스코프"><a class="header" href="#드롭-스코프">드롭 스코프</a></h2>
<div class="rule" id="r-destructors.scope.intro"><a class="rule-link" href="#r-destructors.scope.intro" title="destructors.scope.intro"><span>[destructors<wbr>.scope<wbr>.intro]</span></a>
</div>

<p>각 변수나 임시 값은 <em>드롭 스코프(drop scope)</em> 와 연관됩니다. 제어 흐름이 드롭 스코프를 벗어나면 해당 스코프와 연관된 모든 변수는 선언된 역순으로, 임시 값은 생성된 역순으로 드롭됩니다.</p>
<div class="rule" id="r-destructors.scope.desugaring"><a class="rule-link" href="#r-destructors.scope.desugaring" title="destructors.scope.desugaring"><span>[destructors<wbr>.scope<wbr>.desugaring]</span></a>
</div>

<p>Drop scopes can be determined by replacing <a href="expressions/loop-expr.html#iterator-loops"><code>for</code></a>, <a href="expressions/if-expr.html#if-expressions"><code>if</code></a>, and <a href="expressions/loop-expr.html#predicate-loops"><code>while</code></a> expressions with equivalent expressions using <a href="expressions/match-expr.html"><code>match</code></a>, <a href="expressions/loop-expr.html#infinite-loops"><code>loop</code></a> and <code>break</code>.</p>
<div class="rule" id="r-destructors.scope.operators"><a class="rule-link" href="#r-destructors.scope.operators" title="destructors.scope.operators"><span>[destructors<wbr>.scope<wbr>.operators]</span></a>
</div>

<p>오버로드된 연산자는 내장 연산자와 구별되지 않으며, <a href="patterns.html#binding-modes">바인딩 모드(binding modes)</a> 는 고려되지 않습니다.</p>
<div class="rule" id="r-destructors.scope.list"><a class="rule-link" href="#r-destructors.scope.list" title="destructors.scope.list"><span>[destructors<wbr>.scope<wbr>.list]</span></a>
</div>

<p>함수 또는 클로저가 주어지면, 다음과 같은 것들에 대한 드롭 스코프가 존재합니다.</p>
<div class="rule" id="r-destructors.scope.function"><a class="rule-link" href="#r-destructors.scope.function" title="destructors.scope.function"><span>[destructors<wbr>.scope<wbr>.function]</span></a>
</div>

<ul>
<li>함수 전체</li>
</ul>
<div class="rule" id="r-destructors.scope.statement"><a class="rule-link" href="#r-destructors.scope.statement" title="destructors.scope.statement"><span>[destructors<wbr>.scope<wbr>.statement]</span></a>
</div>

<ul>
<li>각 <a href="statements.html">구문(statement)</a></li>
</ul>
<div class="rule" id="r-destructors.scope.expression"><a class="rule-link" href="#r-destructors.scope.expression" title="destructors.scope.expression"><span>[destructors<wbr>.scope<wbr>.expression]</span></a>
</div>

<ul>
<li>각 <a href="expressions.html">표현식(expression)</a></li>
</ul>
<div class="rule" id="r-destructors.scope.block"><a class="rule-link" href="#r-destructors.scope.block" title="destructors.scope.block"><span>[destructors<wbr>.scope<wbr>.block]</span></a>
</div>

<ul>
<li>함수 본문을 포함한 각 블록
<ul>
<li><a href="expressions/block-expr.html">블록 표현식(block expression)</a> 의 경우, 블록의 스코프와 표현식의 스코프는 동일합니다.</li>
</ul>
</li>
</ul>
<div class="rule" id="r-destructors.scope.match-arm"><a class="rule-link" href="#r-destructors.scope.match-arm" title="destructors.scope.match-arm"><span>[destructors<wbr>.scope<wbr>.match-arm]</span></a>
</div>

<ul>
<li><code>match</code> 표현식의 각 암(arm)</li>
</ul>
<div class="rule" id="r-destructors.scope.nesting"><a class="rule-link" href="#r-destructors.scope.nesting" title="destructors.scope.nesting"><span>[destructors<wbr>.scope<wbr>.nesting]</span></a>
</div>

<p>드롭 스코프들은 다음과 같이 서로 중첩됩니다. 함수에서 반환될 때와 같이 여러 스코프를 한꺼번에 벗어날 때, 변수들은 안쪽에서 바깥쪽 순서로 드롭됩니다.</p>
<div class="rule" id="r-destructors.scope.nesting.function"><a class="rule-link" href="#r-destructors.scope.nesting.function" title="destructors.scope.nesting.function"><span>[destructors<wbr>.scope<wbr>.nesting<wbr>.function]</span></a>
</div>

<ul>
<li>함수 전체 스코프가 최외곽 스코프입니다.</li>
</ul>
<div class="rule" id="r-destructors.scope.nesting.function-body"><a class="rule-link" href="#r-destructors.scope.nesting.function-body" title="destructors.scope.nesting.function-body"><span>[destructors<wbr>.scope<wbr>.nesting<wbr>.function-body]</span></a>
</div>

<ul>
<li>함수 본문 블록은 함수 전체 스코프 내에 포함됩니다.</li>
</ul>
<div class="rule" id="r-destructors.scope.nesting.expr-statement"><a class="rule-link" href="#r-destructors.scope.nesting.expr-statement" title="destructors.scope.nesting.expr-statement"><span>[destructors<wbr>.scope<wbr>.nesting<wbr>.expr-statement]</span></a>
</div>

<ul>
<li>표현식 구문 내 표현식의 부모는 해당 구문의 스코프입니다.</li>
</ul>
<div class="rule" id="r-destructors.scope.nesting.let-initializer"><a class="rule-link" href="#r-destructors.scope.nesting.let-initializer" title="destructors.scope.nesting.let-initializer"><span>[destructors<wbr>.scope<wbr>.nesting<wbr>.let-initializer]</span></a>
</div>

<ul>
<li><a href="statements.html#let-statements"><code>let</code> 구문(let statement)</a> 의 초기화식의 부모는 해당 <code>let</code> 구문의 스코프입니다.</li>
</ul>
<div class="rule" id="r-destructors.scope.nesting.statement"><a class="rule-link" href="#r-destructors.scope.nesting.statement" title="destructors.scope.nesting.statement"><span>[destructors<wbr>.scope<wbr>.nesting<wbr>.statement]</span></a>
</div>

<ul>
<li>구문 스코프의 부모는 해당 구문을 포함하는 블록의 스코프입니다.</li>
</ul>
<div class="rule" id="r-destructors.scope.nesting.match-guard"><a class="rule-link" href="#r-destructors.scope.nesting.match-guard" title="destructors.scope.nesting.match-guard"><span>[destructors<wbr>.scope<wbr>.nesting<wbr>.match-guard]</span></a>
</div>

<ul>
<li><code>match</code> 가드(guard) 표현식의 부모는 해당 가드가 속한 매치 암의 스코프입니다.</li>
</ul>
<div class="rule" id="r-destructors.scope.nesting.match-arm"><a class="rule-link" href="#r-destructors.scope.nesting.match-arm" title="destructors.scope.nesting.match-arm"><span>[destructors<wbr>.scope<wbr>.nesting<wbr>.match-arm]</span></a>
</div>

<ul>
<li><code>match</code> 표현식에서 <code>=&gt;</code> 뒤에 오는 표현식의 부모는 그것이 속한 매치 암의 스코프입니다.</li>
</ul>
<div class="rule" id="r-destructors.scope.nesting.match"><a class="rule-link" href="#r-destructors.scope.nesting.match" title="destructors.scope.nesting.match"><span>[destructors<wbr>.scope<wbr>.nesting<wbr>.match]</span></a>
</div>

<ul>
<li>매치 암 스코프의 부모는 그것이 속한 <code>match</code> 표현식의 스코프입니다.</li>
</ul>
<div class="rule" id="r-destructors.scope.nesting.other"><a class="rule-link" href="#r-destructors.scope.nesting.other" title="destructors.scope.nesting.other"><span>[destructors<wbr>.scope<wbr>.nesting<wbr>.other]</span></a>
</div>

<ul>
<li>그 외 모든 스코프의 부모는 그것을 직접 감싸고 있는 표현식의 스코프입니다.</li>
</ul>
<div class="rule" id="r-destructors.scope.params"><a class="rule-link" href="#r-destructors.scope.params" title="destructors.scope.params"><span>[destructors<wbr>.scope<wbr>.params]</span></a>
</div>

<h3 id="함수-매개변수의-스코프"><a class="header" href="#함수-매개변수의-스코프">함수 매개변수의 스코프</a></h3>
<p>모든 함수 매개변수는 함수 본문 전체의 스코프에 속하므로, 함수가 평가될 때 가장 마지막에 드롭됩니다. 각 실제 함수 매개변수는 해당 매개변수의 패턴에서 도입된 모든 바인딩이 드롭된 후에 드롭됩니다.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct PrintOnDrop(&amp;'static str);
</span><span class="boring">impl Drop for PrintOnDrop {
</span><span class="boring">    fn drop(&amp;mut self) {
</span><span class="boring">        println!("드롭({})", self.0);
</span><span class="boring">    }
</span><span class="boring">}
</span>// `y` 가 드롭되고, 그다음 두 번째 매개변수, 그다음 `x`, 그다음 첫 번째 매개변수 순으로 드롭됩니다.
fn patterns_in_parameters(
    (x, _): (PrintOnDrop, PrintOnDrop),
    (_, y): (PrintOnDrop, PrintOnDrop),
) {}

// 드롭 순서는 3 2 0 1입니다.
patterns_in_parameters(
    (PrintOnDrop("0"), PrintOnDrop("1")),
    (PrintOnDrop("2"), PrintOnDrop("3")),
);
<span class="boring">}</span></code></pre>
<div class="rule" id="r-destructors.scope.bindings"><a class="rule-link" href="#r-destructors.scope.bindings" title="destructors.scope.bindings"><span>[destructors<wbr>.scope<wbr>.bindings]</span></a>
</div>

<h3 id="지역-변수의-스코프"><a class="header" href="#지역-변수의-스코프">지역 변수의 스코프</a></h3>
<div class="rule" id="r-destructors.scope.bindings.intro"><a class="rule-link" href="#r-destructors.scope.bindings.intro" title="destructors.scope.bindings.intro"><span>[destructors<wbr>.scope<wbr>.bindings<wbr>.intro]</span></a>
</div>

<p><code>let</code> 구문에서 선언된 지역 변수는 해당 <code>let</code> 구문을 포함하는 블록의 스코프와 연관됩니다. <code>match</code> 표현식에서 선언된 지역 변수는 그것이 선언된 <code>match</code> 암의 암 스코프와 연관됩니다.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct PrintOnDrop(&amp;'static str);
</span><span class="boring">impl Drop for PrintOnDrop {
</span><span class="boring">    fn drop(&amp;mut self) {
</span><span class="boring">        println!("드롭({})", self.0);
</span><span class="boring">    }
</span><span class="boring">}
</span>let declared_first = PrintOnDrop("바깥쪽 스코프에서 마지막에 드롭됨");
{
    let declared_in_block = PrintOnDrop("안쪽 스코프에서 드롭됨");
}
let declared_last = PrintOnDrop("바깥쪽 스코프에서 먼저 드롭됨");
<span class="boring">}</span></code></pre>
<div class="rule" id="r-destructors.scope.bindings.patterns"><a class="rule-link" href="#r-destructors.scope.bindings.patterns" title="destructors.scope.bindings.patterns"><span>[destructors<wbr>.scope<wbr>.bindings<wbr>.patterns]</span></a>
</div>

<p>Variables in patterns are dropped in reverse order of declaration within the pattern.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct PrintOnDrop(&amp;'static str);
</span><span class="boring">impl Drop for PrintOnDrop {
</span><span class="boring">    fn drop(&amp;mut self) {
</span><span class="boring">        println!("드롭({})", self.0);
</span><span class="boring">    }
</span><span class="boring">}
</span>let (declared_first, declared_last) = (
    PrintOnDrop("Dropped last"),
    PrintOnDrop("Dropped first"),
);
<span class="boring">}</span></code></pre>
<div class="rule" id="r-destructors.scope.bindings.or-patterns"><a class="rule-link" href="#r-destructors.scope.bindings.or-patterns" title="destructors.scope.bindings.or-patterns"><span>[destructors<wbr>.scope<wbr>.bindings<wbr>.or-patterns]</span></a>
</div>

<p>For the purpose of drop order, <a href="patterns.html#or-patterns">or-patterns</a> declare bindings in the order given by the first subpattern.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct PrintOnDrop(&amp;'static str);
</span><span class="boring">impl Drop for PrintOnDrop {
</span><span class="boring">    fn drop(&amp;mut self) {
</span><span class="boring">        println!("드롭({})", self.0);
</span><span class="boring">    }
</span><span class="boring">}
</span>// Drops `x` before `y`.
fn or_pattern_drop_order&lt;T&gt;(
    (Ok([x, y]) | Err([y, x])): Result&lt;[T; 2], [T; 2]&gt;
//   ^^^^^^^^^^   ^^^^^^^^^^^ This is the second subpattern.
//   |
//   This is the first subpattern.
//
//   In the first subpattern, `x` is declared before `y`. Since it is
//   the first subpattern, that is the order used even if the second
//   subpattern, where the bindings are declared in the opposite
//   order, is matched.
) {}

// Here we match the first subpattern, and the drops happen according
// to the declaration order in the first subpattern.
or_pattern_drop_order(Ok([
    PrintOnDrop("Declared first, dropped last"),
    PrintOnDrop("Declared last, dropped first"),
]));

// Here we match the second subpattern, and the drops still happen
// according to the declaration order in the first subpattern.
or_pattern_drop_order(Err([
    PrintOnDrop("Declared last, dropped first"),
    PrintOnDrop("Declared first, dropped last"),
]));
<span class="boring">}</span></code></pre>
<div class="rule" id="r-destructors.scope.temporary"><a class="rule-link" href="#r-destructors.scope.temporary" title="destructors.scope.temporary"><span>[destructors<wbr>.scope<wbr>.temporary]</span></a>
</div>

<h3 id="임시-스코프"><a class="header" href="#임시-스코프">임시 스코프</a></h3>
<div class="rule" id="r-destructors.scope.temporary.intro"><a class="rule-link" href="#r-destructors.scope.temporary.intro" title="destructors.scope.temporary.intro"><span>[destructors<wbr>.scope<wbr>.temporary<wbr>.intro]</span></a>
</div>

<p>어떤 표현식의 <em>임시 스코프(temporary scope)</em> 는 해당 표현식이 <a href="expressions.html#place-expressions-and-value-expressions">장소 컨텍스트(place context)</a> 에서 사용될 때 그 결과를 보관하는 임시 변수에 사용되는 스코프입니다. 다만 해당 표현식이 <a href="destructors.html#constant-promotion">승격(promoted)</a> 된 경우는 제외합니다.</p>
<div class="rule" id="r-destructors.scope.temporary.enclosing"><a class="rule-link" href="#r-destructors.scope.temporary.enclosing" title="destructors.scope.temporary.enclosing"><span>[destructors<wbr>.scope<wbr>.temporary<wbr>.enclosing]</span></a>
</div>

<p>라이프타임 확장을 제외하면, 표현식의 임시 스코프는 해당 표현식을 포함하는 가장 작은 스코프이며 다음 중 하나입니다.</p>
<ul>
<li>함수 전체.</li>
<li>구문(statement).</li>
<li><a href="expressions/if-expr.html#if-expressions"><code>if</code></a>, <a href="expressions/loop-expr.html#predicate-loops"><code>while</code></a> 또는 <a href="expressions/loop-expr.html#infinite-loops"><code>loop</code></a> 표현식의 본문.</li>
<li><code>if</code> 표현식의 <code>else</code> 블록.</li>
<li>The non-pattern matching condition expression of an <code>if</code> or <code>while</code> expression, or a <code>match</code> guard.</li>
<li>매치 암의 본문 표현식.</li>
<li><a href="expressions/operator-expr.html#lazy-boolean-operators">지연 불리언 표현식(lazy boolean expression)</a> 의 각 피연산자.</li>
<li>The pattern-matching condition(s) and consequent body of <a href="expressions/if-expr.html#if-expressions"><code>if</code></a> (<a href="destructors.html#r-destructors.scope.temporary.edition2024">destructors.scope.temporary.edition2024</a>).</li>
<li>The pattern-matching condition and loop body of <a href="expressions/loop-expr.html#predicate-loops"><code>while</code></a>.</li>
<li>블록 꼬리 표현식(tail expression)의 전체 (<a href="destructors.html#r-destructors.scope.temporary.edition2024">destructors.scope.temporary.edition2024</a>).</li>
</ul>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>

<p><code>match</code> 표현식의 <a href="glossary.html#scrutinee">스크루티니(scrutinee)</a> 는 임시 스코프가 아니므로, 스크루티니 내의 임시 값들은 <code>match</code> 표현식 이후에 드롭될 수 있습니다. 예를 들어, <code>match 1 { ref mut z =&gt; z };</code> 에서 <code>1</code> 을 위한 임시 값은 구문이 끝날 때까지 유지됩니다.</p>
</blockquote>
</div>

<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>

<p>The desugaring of a <a href="expressions/operator-expr.html#r-expr.assign.destructure">destructuring assignment</a> restricts the temporary scope of its assigned value operand (the RHS). For details, see <a href="expressions/operator-expr.html#r-expr.assign.destructure.tmp-scopes">expr.assign.destructure.tmp-scopes</a>.</p>
</blockquote>
</div>

<div class="rule" id="r-destructors.scope.temporary.edition2024"><a class="rule-link" href="#r-destructors.scope.temporary.edition2024" title="destructors.scope.temporary.edition2024"><span>[destructors<wbr>.scope<wbr>.temporary<wbr>.edition2024]</span></a>
</div>

<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2024</span> Edition differences</p>

<p>The 2024 edition added two new temporary scope narrowing rules: <code>if let</code> temporaries are dropped before the <code>else</code> block, and temporaries of tail expressions of blocks are dropped immediately after the tail expression is evaluated.</p>
</blockquote>
</div>

<p>몇 가지 예제:</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#![allow(irrefutable_let_patterns)]
</span><span class="boring">struct PrintOnDrop(&amp;'static str);
</span><span class="boring">impl Drop for PrintOnDrop {
</span><span class="boring">    fn drop(&amp;mut self) {
</span><span class="boring">        println!("드롭({})", self.0);
</span><span class="boring">    }
</span><span class="boring">}
</span>let local_var = PrintOnDrop("지역 변수");

// 조건이 평가되면 드롭됨
if PrintOnDrop("If 조건").0 == "If 조건" {
    // 블록 끝에서 드롭됨
    PrintOnDrop("If 본문").0
} else {
    unreachable!()
};

if let "if let 스크루티니" = PrintOnDrop("if let 스크루티니").0 {
    PrintOnDrop("if let 결과절").0
    // `if let 결과절` 이 여기서 드롭됨
}
// `if let 스크루티니` 가 여기서 드롭됨
else {
    PrintOnDrop("if let else").0
    // `if let else` 가 여기서 드롭됨
};

while let x = PrintOnDrop("while let scrutinee").0 {
    PrintOnDrop("while let loop body").0;
    break;
    // `while let loop body` dropped here.
    // `while let scrutinee` dropped here.
}

// 첫 번째 || 이전에 드롭됨
(PrintOnDrop("첫 번째 피연산자").0 == ""
// ) 이전에 드롭됨
|| PrintOnDrop("두 번째 피연산자").0 == "")
// ; 이전에 드롭됨
|| PrintOnDrop("세 번째 피연산자").0 == "";

// 스크루티니는 함수의 끝에서 지역 변수들 이전에 드롭됩니다
// (이것이 함수 본문 블록의 꼬리 표현식이기 때문입니다).
match PrintOnDrop("최종 표현식의 매치된 값") {
    // 조건이 평가되면 드롭됨
    _ if PrintOnDrop("가드 조건").0 == "" =&gt; (),
    _ =&gt; (),
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-destructors.scope.operands"><a class="rule-link" href="#r-destructors.scope.operands" title="destructors.scope.operands"><span>[destructors<wbr>.scope<wbr>.operands]</span></a>
</div>

<h3 id="피연산자"><a class="header" href="#피연산자">피연산자</a></h3>
<p>Temporaries are also created to hold the result of operands to an expression while the other operands are evaluated. The temporaries are associated to the scope of the expression with that operand. Since the temporaries are moved from once the expression is evaluated, dropping them has no effect unless one of the operands to an expression breaks out of the expression, returns, or <a href="panic.html">panics</a>.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct PrintOnDrop(&amp;'static str);
</span><span class="boring">impl Drop for PrintOnDrop {
</span><span class="boring">    fn drop(&amp;mut self) {
</span><span class="boring">        println!("드롭({})", self.0);
</span><span class="boring">    }
</span><span class="boring">}
</span>loop {
    // 튜플 표현식의 평가가 완료되지 않았으므로 피연산자들이 역순으로 드롭됩니다.
    (
        PrintOnDrop("바깥쪽 튜플 첫 번째"),
        PrintOnDrop("바깥쪽 튜플 두 번째"),
        (
            PrintOnDrop("안쪽 튜플 첫 번째"),
            PrintOnDrop("안쪽 튜플 두 번째"),
            break,
        ),
        PrintOnDrop("절대로 생성되지 않음"),
    );
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-destructors.scope.const-promotion"><a class="rule-link" href="#r-destructors.scope.const-promotion" title="destructors.scope.const-promotion"><span>[destructors<wbr>.scope<wbr>.const-promotion]</span></a>
</div>

<h3 id="상수-승격"><a class="header" href="#상수-승격">상수 승격</a></h3>
<p>값 표현식을 <code>'static</code> 슬롯으로 승격시키는 것은, 해당 표현식을 상수로 작성하여 차용할 수 있고, 그 차용을 원래 표현식이 작성된 위치에서 런타임 동작의 변경 없이 역참조할 수 있을 때 발생합니다. 즉, 승격된 표현식은 컴파일 타임에 평가될 수 있어야 하며, 그 결과값은 <a href="interior-mutability.html">내부 가변성(interior mutability)</a> 이나 <a href="destructors.html">소멸자(destructors)</a> 를 포함하지 않아야 합니다 (이러한 속성들은 가능한 경우 값을 기반으로 결정됩니다. 예를 들어, <code>&amp;None</code> 은 허용되지 않는 것을 아무것도 포함하지 않으므로 항상 <code>&amp;'static Option&lt;_&gt;</code> 타입을 가집니다).</p>
<div class="rule" id="r-destructors.scope.lifetime-extension"><a class="rule-link" href="#r-destructors.scope.lifetime-extension" title="destructors.scope.lifetime-extension"><span>[destructors<wbr>.scope<wbr>.lifetime-extension]</span></a>
</div>

<h3 id="임시-라이프타임-확장"><a class="header" href="#임시-라이프타임-확장">임시 라이프타임 확장</a></h3>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>

<p>The exact rules for temporary lifetime extension are subject to change. This is describing the current behavior only.</p>
</blockquote>
</div>

<div class="rule" id="r-destructors.scope.lifetime-extension.let"><a class="rule-link" href="#r-destructors.scope.lifetime-extension.let" title="destructors.scope.lifetime-extension.let"><span>[destructors<wbr>.scope<wbr>.lifetime-extension<wbr>.let]</span></a>
</div>

<p><code>let</code> 구문의 표현식에 대한 임시 스코프는 때때로 <code>let</code> 구문을 포함하는 블록의 스코프로 <em>확장(extended)</em> 되기도 합니다. 이는 특정한 구문 규칙에 따라 일반적인 임시 스코프가 너무 작을 때 수행됩니다. 예를 들어:</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let x = &amp;mut 0;
// 보통이라면 임시 값은 지금쯤 드롭되었겠지만, `0` 을 위한 임시 값은 블록 끝까지 유지됩니다.
println!("{}", x);
<span class="boring">}</span></code></pre>
<div class="rule" id="r-destructors.scope.lifetime-extension.static"><a class="rule-link" href="#r-destructors.scope.lifetime-extension.static" title="destructors.scope.lifetime-extension.static"><span>[destructors<wbr>.scope<wbr>.lifetime-extension<wbr>.static]</span></a>
</div>

<p>라이프타임 확장은 <code>static</code> 및 <code>const</code> 아이템에도 적용되어, 임시 값이 프로그램이 종료될 때까지 유지되게 합니다. 예를 들어:</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>const C: &amp;Vec&lt;i32&gt; = &amp;Vec::new();
// 보통이라면 `Vec` 은 `C` 의 초기화식 내부에만 존재하므로 이는 댕글링 참조(dangling reference)가 되겠지만,
// 대신 차용(borrow)이 라이프타임 확장되어 사실상 `'static` 라이프타임을 갖게 됩니다.
println!("{:?}", C);
<span class="boring">}</span></code></pre>
<div class="rule" id="r-destructors.scope.lifetime-extension.sub-expressions"><a class="rule-link" href="#r-destructors.scope.lifetime-extension.sub-expressions" title="destructors.scope.lifetime-extension.sub-expressions"><span>[destructors<wbr>.scope<wbr>.lifetime-extension<wbr>.sub-expressions]</span></a>
</div>

<p>If a <a href="expressions/operator-expr.html#r-expr.operator.borrow">borrow</a>, <a href="expressions/operator-expr.html#the-dereference-operator">dereference</a>, <a href="expressions/field-expr.html">field</a>, or <a href="expressions/tuple-expr.html#tuple-indexing-expressions">tuple indexing expression</a> has an extended temporary scope, then so does its operand. If an <a href="expressions/array-expr.html#array-and-slice-indexing-expressions">indexing expression</a> has an extended temporary scope, then the indexed expression also has an extended temporary scope.</p>
<div class="rule" id="r-destructors.scope.lifetime-extension.patterns"><a class="rule-link" href="#r-destructors.scope.lifetime-extension.patterns" title="destructors.scope.lifetime-extension.patterns"><span>[destructors<wbr>.scope<wbr>.lifetime-extension<wbr>.patterns]</span></a>
</div>

<h4 id="패턴에-기반한-연장"><a class="header" href="#패턴에-기반한-연장">패턴에 기반한 연장</a></h4>
<div class="rule" id="r-destructors.scope.lifetime-extension.patterns.extending"><a class="rule-link" href="#r-destructors.scope.lifetime-extension.patterns.extending" title="destructors.scope.lifetime-extension.patterns.extending"><span>[destructors<wbr>.scope<wbr>.lifetime-extension<wbr>.patterns<wbr>.extending]</span></a>
</div>

<p>An <em>extending pattern</em> is either:</p>
<ul>
<li>
<p>참조 또는 가변 참조로 바인딩하는 <a href="patterns.html#identifier-patterns">식별자 패턴(identifier pattern)</a>.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">fn temp() {}
</span>let ref x = temp(); // Binds by reference.
<span class="boring">x;
</span>let ref mut x = temp(); // Binds by mutable reference.
<span class="boring">x;
</span><span class="boring">}</span></code></pre>
</li>
<li>
<p>A <a href="patterns.html#struct-patterns">struct</a>, <a href="patterns.html#tuple-patterns">tuple</a>, <a href="patterns.html#tuple-struct-patterns">tuple struct</a>, <a href="patterns.html#slice-patterns">slice</a>, or <a href="patterns.html#or-patterns">or-pattern</a> where at least one of the direct subpatterns is an extending pattern.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">use core::sync::atomic::{AtomicU64, Ordering::Relaxed};
</span><span class="boring">static X: AtomicU64 = AtomicU64::new(0);
</span>struct W&lt;T&gt;(T);
<span class="boring">impl&lt;T&gt; Drop for W&lt;T&gt; { fn drop(&amp;mut self) { X.fetch_add(1, Relaxed); } }
</span>let W { 0: ref x } = W(()); // Struct pattern.
<span class="boring">x;
</span>let W(ref x) = W(()); // Tuple struct pattern.
<span class="boring">x;
</span>let (W(ref x),) = (W(()),); // Tuple pattern.
<span class="boring">x;
</span>let [W(ref x), ..] = [W(())]; // Slice pattern.
<span class="boring">x;
</span>let (Ok(W(ref x)) | Err(&amp;ref x)) = Ok(W(())); // Or pattern.
<span class="boring">x;
</span>//
// All of the temporaries above are still live here.
<span class="boring">assert_eq!(0, X.load(Relaxed));
</span><span class="boring">}</span></code></pre>
</li>
</ul>
<p>따라서 <code>ref x</code>, <code>V(ref x)</code>, <code>[ref x, y]</code> 는 모두 연장 패턴이지만, <code>x</code>, <code>&amp;ref x</code>, <code>&amp;(ref x,)</code> 는 그렇지 않습니다.</p>
<div class="rule" id="r-destructors.scope.lifetime-extension.patterns.let"><a class="rule-link" href="#r-destructors.scope.lifetime-extension.patterns.let" title="destructors.scope.lifetime-extension.patterns.let"><span>[destructors<wbr>.scope<wbr>.lifetime-extension<wbr>.patterns<wbr>.let]</span></a>
</div>

<p><code>let</code> 구문의 패턴이 연장 패턴이면 초기화식 표현식의 임시 스코프가 연장됩니다.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">fn temp() {}
</span>// This is an extending pattern, so the temporary scope is extended.
let ref x = *&amp;temp(); // OK
<span class="boring">x;
</span><span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust compile_fail E0716 edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">fn temp() {}
</span>// This is neither an extending pattern nor an extending expression,
// so the temporary is dropped at the semicolon.
let &amp;ref x = *&amp;&amp;temp(); // 오류
<span class="boring">x;
</span><span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">fn temp() {}
</span>// This is not an extending pattern but it is an extending expression,
// so the temporary lives beyond the `let` statement.
let &amp;ref x = &amp;*&amp;temp(); // OK
<span class="boring">x;
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-destructors.scope.lifetime-extension.exprs"><a class="rule-link" href="#r-destructors.scope.lifetime-extension.exprs" title="destructors.scope.lifetime-extension.exprs"><span>[destructors<wbr>.scope<wbr>.lifetime-extension<wbr>.exprs]</span></a>
</div>

<h4 id="표현식에-기반한-연장"><a class="header" href="#표현식에-기반한-연장">표현식에 기반한 연장</a></h4>
<div class="rule" id="r-destructors.scope.lifetime-extension.exprs.extending"><a class="rule-link" href="#r-destructors.scope.lifetime-extension.exprs.extending" title="destructors.scope.lifetime-extension.exprs.extending"><span>[destructors<wbr>.scope<wbr>.lifetime-extension<wbr>.exprs<wbr>.extending]</span></a>
</div>

<p>초기화식이 있는 let 구문의 경우, <em>연장 표현식(extending expression)</em> 은 다음 중 하나인 표현식입니다.</p>
<ul>
<li>초기화식 표현식.</li>
<li>The operand of an extending <a href="expressions/operator-expr.html#r-expr.operator.borrow">borrow</a> expression.</li>
<li>The <a href="expressions.html#r-expr.super-macros">super operands</a> of an extending <a href="expressions.html#r-expr.super-macros">super macro call</a> expression.</li>
<li>연장 <a href="expressions/array-expr.html#array-expressions">배열(array)</a>, <a href="expressions/operator-expr.html#type-cast-expressions">캐스트(cast)</a>, <a href="expressions/struct-expr.html">중괄호 구조체(braced struct)</a>, 또는 <a href="expressions/tuple-expressions">튜플(tuple)</a> 표현식의 피연산자(들).</li>
<li>The arguments to an extending <a href="types/struct.html#r-type.struct.tuple">tuple struct</a> or <a href="types/enum.html#r-type.enum.declaration">tuple enum variant</a> constructor expression.</li>
<li>The final expression of an extending <a href="expressions/block-expr.html">block expression</a> except for an <a href="expressions/block-expr.html#r-expr.block.async">async block expression</a>.</li>
<li>The final expression of an extending <a href="expressions/if-expr.html#if-expressions"><code>if</code></a> expression’s consequent, <code>else if</code>, or <code>else</code> block.</li>
<li>An arm expression of an extending <a href="expressions/match-expr.html"><code>match</code></a> expression.</li>
</ul>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>

<p>The desugaring of a <a href="expressions/operator-expr.html#r-expr.assign.destructure">destructuring assignment</a> makes its assigned value operand (the RHS) an extending expression within a newly-introduced block. For details, see <a href="expressions/operator-expr.html#r-expr.assign.destructure.tmp-ext">expr.assign.destructure.tmp-ext</a>.</p>
</blockquote>
</div>

<p>So the borrow expressions in <code>&amp;mut 0</code>, <code>(&amp;1, &amp;mut 2)</code>, and <code>Some(&amp;mut 3)</code> are all extending expressions. The borrows in <code>&amp;0 + &amp;1</code> and <code>f(&amp;mut 0)</code> are not.</p>
<div class="rule" id="r-destructors.scope.lifetime-extension.exprs.borrows"><a class="rule-link" href="#r-destructors.scope.lifetime-extension.exprs.borrows" title="destructors.scope.lifetime-extension.exprs.borrows"><span>[destructors<wbr>.scope<wbr>.lifetime-extension<wbr>.exprs<wbr>.borrows]</span></a>
</div>

<p>The operand of an extending <a href="expressions/operator-expr.html#r-expr.operator.borrow">borrow</a> expression has its <a href="destructors.html#r-destructors.scope.temporary">temporary scope</a> <a href="destructors.html#r-destructors.scope.lifetime-extension">extended</a>.</p>
<div class="rule" id="r-destructors.scope.lifetime-extension.exprs.super-macros"><a class="rule-link" href="#r-destructors.scope.lifetime-extension.exprs.super-macros" title="destructors.scope.lifetime-extension.exprs.super-macros"><span>[destructors<wbr>.scope<wbr>.lifetime-extension<wbr>.exprs<wbr>.super-macros]</span></a>
</div>

<p>The <a href="expressions.html#r-expr.super-macros">super temporaries</a> of an extending <a href="expressions.html#r-expr.super-macros">super macro call</a> expression have their <a href="destructors.html#r-destructors.scope.temporary">scopes</a> <a href="destructors.html#r-destructors.scope.lifetime-extension">extended</a>.</p>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>

<p><code>rustc</code> does not treat <a href="expressions/array-expr.html#r-expr.array.repeat-operand">array repeat operands</a> of extending <a href="types/array.html">array</a> expressions as extending expressions. Whether it should is an open question.</p>
<p>For details, see <a href="https://github.com/rust-lang/rust/issues/146092">Rust issue #146092</a>.</p>
</blockquote>
</div>

<h4 id="예시"><a class="header" href="#예시">예시</a></h4>
<p>다음은 표현식이 연장된 임시 스코프를 갖는 몇 가지 예입니다.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">use core::pin::pin;
</span><span class="boring">use core::sync::atomic::{AtomicU64, Ordering::Relaxed};
</span><span class="boring">static X: AtomicU64 = AtomicU64::new(0);
</span><span class="boring">#[derive(Debug)] struct S;
</span><span class="boring">impl Drop for S { fn drop(&amp;mut self) { X.fetch_add(1, Relaxed); } }
</span><span class="boring">const fn temp() -&gt; S { S }
</span>let x = &amp;temp(); // Operand of borrow.
<span class="boring">x;
</span>let x = &amp;raw const *&amp;temp(); // Operand of raw borrow.
<span class="boring">assert_eq!(X.load(Relaxed), 0);
</span>let x = &amp;temp() as &amp;dyn Send; // Operand of cast.
<span class="boring">x;
</span>let x = (&amp;*&amp;temp(),); // Operand of tuple constructor.
<span class="boring">x;
</span>struct W&lt;T&gt;(T);
let x = W(&amp;temp()); // Argument to tuple struct constructor.
<span class="boring">x;
</span>let x = Some(&amp;temp()); // Argument to tuple enum variant constructor.
<span class="boring">x;
</span>let x = { [Some(&amp;temp())] }; // Final expr of block.
<span class="boring">x;
</span>let x = const { &amp;temp() }; // Final expr of `const` block.
<span class="boring">x;
</span>let x = unsafe { &amp;temp() }; // Final expr of `unsafe` block.
<span class="boring">x;
</span>let x = if true { &amp;temp() } else { &amp;temp() };
//              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
//           Final exprs of `if`/`else` blocks.
<span class="boring">x;
</span>let x = match () { _ =&gt; &amp;temp() }; // `match` arm expression.
<span class="boring">x;
</span>let x = pin!(temp()); // Super operand of super macro call expression.
<span class="boring">x;
</span>let x = pin!({ &amp;mut temp() }); // As above.
<span class="boring">x;
</span>let x = format_args!("{:?}", temp()); // As above.
<span class="boring">x;
</span>//
// All of the temporaries above are still live here.
<span class="boring">assert_eq!(0, X.load(Relaxed));
</span><span class="boring">}</span></code></pre>
<p>다음은 표현식이 연장된 임시 스코프를 갖지 않는 몇 가지 예입니다.</p>
<pre class="playground"><code class="language-rust compile_fail E0716 edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">fn temp() {}
</span>// Arguments to function calls are not extending expressions. The
// temporary is dropped at the semicolon.
let x = core::convert::identity(&amp;temp()); // 오류
<span class="boring">x;
</span><span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust compile_fail E0716 edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">fn temp() {}
</span><span class="boring">trait Use { fn use_temp(&amp;self) -&gt; &amp;Self { self } }
</span><span class="boring">impl Use for () {}
</span>// Receivers of method calls are not extending expressions.
let x = (&amp;temp()).use_temp(); // 오류
<span class="boring">x;
</span><span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust compile_fail E0716 edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">fn temp() {}
</span>// Scrutinees of match expressions are not extending expressions.
let x = match &amp;temp() { x =&gt; x }; // 오류
<span class="boring">x;
</span><span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust compile_fail E0515 edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">fn temp() {}
</span>// Final expressions of `async` blocks are not extending expressions.
let x = async { &amp;temp() }; // 오류
<span class="boring">x;
</span><span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust compile_fail E0515 edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">fn temp() {}
</span>// Final expressions of closures are not extending expressions.
let x = || &amp;temp(); // 오류
<span class="boring">x;
</span><span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust compile_fail E0716 edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">fn temp() {}
</span>// Operands of loop breaks are not extending expressions.
let x = loop { break &amp;temp() }; // 오류
<span class="boring">x;
</span><span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust compile_fail E0716 edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">fn temp() {}
</span>// Operands of breaks to labels are not extending expressions.
let x = 'a: { break 'a &amp;temp() }; // 오류
<span class="boring">x;
</span><span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust edition2024 compile_fail E0716"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">use core::pin::pin;
</span><span class="boring">fn temp() {}
</span>// The argument to `pin!` is only an extending expression if the call
// is an extending expression. Since it's not, the inner block is not
// an extending expression, so the temporaries in its trailing
// expression are dropped immediately.
pin!({ &amp;temp() }); // 오류
<span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust edition2024 compile_fail E0716"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">fn temp() {}
</span>// As above.
format_args!("{:?}", { &amp;temp() }); // 오류
<span class="boring">}</span></code></pre>
<div class="rule" id="r-destructors.forget"><a class="rule-link" href="#r-destructors.forget" title="destructors.forget"><span>[destructors<wbr>.forget]</span></a>
</div>

<h2 id="소멸자를-실행하지-않는-경우"><a class="header" href="#소멸자를-실행하지-않는-경우">소멸자를 실행하지 않는 경우</a></h2>
<div class="rule" id="r-destructors.manually-suppressing"><a class="rule-link" href="#r-destructors.manually-suppressing" title="destructors.manually-suppressing"><span>[destructors<wbr>.manually-suppressing]</span></a>
</div>

<h3 id="manually-suppressing-destructors"><a class="header" href="#manually-suppressing-destructors">Manually suppressing destructors</a></h3>
<p><a href="../core/mem/fn.forget.html"><code>core::mem::forget</code></a> can be used to prevent the destructor of a variable from being run, and <a href="../core/mem/manually_drop/struct.ManuallyDrop.html"><code>core::mem::ManuallyDrop</code></a> provides a wrapper to prevent a variable or field from being dropped automatically.</p>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>

<p>Preventing a destructor from being run via <a href="../core/mem/fn.forget.html"><code>core::mem::forget</code></a> or other means is safe even if it has a type that isn’t <code>'static</code>. Besides the places where destructors are guaranteed to run as defined by this document, types may <em>not</em> safely rely on a destructor being run for soundness.</p>
</blockquote>
</div>

<div class="rule" id="r-destructors.process-termination"><a class="rule-link" href="#r-destructors.process-termination" title="destructors.process-termination"><span>[destructors<wbr>.process-termination]</span></a>
</div>

<h3 id="process-termination-without-unwinding"><a class="header" href="#process-termination-without-unwinding">Process termination without unwinding</a></h3>
<p>There are some ways to terminate the process without <a href="panic.html#unwinding">unwinding</a>, in which case destructors will not be run.</p>
<p>The standard library provides <a href="../std/process/fn.exit.html"><code>std::process::exit</code></a> and <a href="../std/process/fn.abort.html"><code>std::process::abort</code></a> to do this explicitly. Additionally, if the <a href="panic.html#r-panic.panic_handler.std">panic handler</a> is set to <code>abort</code>, panicking will always terminate the process without destructors being run.</p>
<p>There is one additional case to be aware of: when a panic reaches a <a href="items/functions.html#unwinding">non-unwinding ABI boundary</a>, either no destructors will run, or all destructors up until the ABI boundary will run.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="divergence.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="lifetime-elision.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="divergence.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="lifetime-elision.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->
        <script src="theme/reference-da60281b.js"></script>
        <script src="theme/language-picker-0917ae23.js"></script>



    </div>
    </body>
</html>
