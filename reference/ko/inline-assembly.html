<!DOCTYPE HTML>
<html lang="ko" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>인라인 어셈블리 - The Rust Reference</title>


        <!-- Custom HTML head -->

        <script async src="https://www.googletagmanager.com/gtag/js?id=G-L455DH98TK"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
        
          gtag('config', 'G-L455DH98TK');
        </script>
        
        
        <script>
            (function () {
                // See these pages for details:
                // https://developers.google.com/search/docs/crawling-indexing/consolidate-duplicate-urls
                // https://developers.google.com/search/docs/crawling-indexing/javascript/javascript-seo-basics
        
                function gen_canonical_href(lang) {
        
                    let base = "https://rust-lang-translations.org/reference";
        
                    let canonical_href;
                    if (lang == "en") {
                        canonical_href = `${base}/inline-assembly.md`;
                    } else {
                        canonical_href = `${base}/${lang}/inline-assembly.md`;
                    }
                    canonical_href = canonical_href.slice(0, -"md".length) + "html";
                    if (canonical_href.endsWith("/index.html")) {
                        canonical_href = canonical_href.slice(0, -"index.html".length);
                    }
                    return canonical_href;
                }
        
                const canonical_href = gen_canonical_href("ko");

                let link = document.createElement("link");
                link.rel = "canonical";
                link.href = canonical_href;
                document.head.appendChild(link);
        
        
                const langs = ["en"  , "ko" ];
        
                for (const lang of langs) {
                    const canonical_href = gen_canonical_href(lang);
        
                    let link = document.createElement("link");
                    link.rel = "alternate";
                    link.hreflang = lang;
                    link.href = canonical_href;
                    document.head.appendChild(link);
                }
            })()
        </script>
        

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-ae938929.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/reference-bb0bdaf8.css">
        <link rel="stylesheet" href="theme/language-picker-00e4db94.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-bdf92d3a.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-f44ceee2.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rust Reference</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/rust-lang-translations/project" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>
                        <a href="https://github.com/rust-lang/reference/edit/master/src/inline-assembly.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <span class=fa-svg id="git-edit-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <div class="rule" id="r-asm"><a class="rule-link" href="#r-asm" title="asm"><span>[asm]</span></a>
</div>

<h1 id="인라인-어셈블리"><a class="header" href="#인라인-어셈블리">인라인 어셈블리</a></h1>
<div class="rule" id="r-asm.intro"><a class="rule-link" href="#r-asm.intro" title="asm.intro"><span>[asm<wbr>.intro]</span></a>
</div>

<p>Support for inline assembly is provided via the <a href="../core/arch/macro.asm.html"><code>asm!</code></a>, <a href="../core/arch/macro.naked_asm.html"><code>naked_asm!</code></a>, and <a href="../core/arch/macro.global_asm.html"><code>global_asm!</code></a> macros. It can be used to embed handwritten assembly in the assembly output generated by the compiler.</p>
<div class="rule" id="r-asm.stable-targets"><a class="rule-link" href="#r-asm.stable-targets" title="asm.stable-targets"><span>[asm<wbr>.stable-targets]</span></a>
</div>

<p>인라인 어셈블리 지원은 다음 아키텍처에서 안정화되었습니다:</p>
<ul>
<li>x86 및 x86-64</li>
<li>ARM</li>
<li>AArch64 및 Arm64EC</li>
<li>RISC-V</li>
<li>LoongArch</li>
<li>s390x</li>
<li>PowerPC and PowerPC64</li>
</ul>
<p>The compiler will emit an error if an assembly macro is used on an unsupported target.</p>
<div class="rule" id="r-asm.example"><a class="rule-link" href="#r-asm.example" title="asm.example"><span>[asm<wbr>.example]</span></a>
</div>

<h2 id="예시"><a class="header" href="#예시">예시</a></h2>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>use std::arch::asm;

// 시프트와 덧셈을 사용하여 x에 6을 곱합니다.
let mut x: u64 = 4;
unsafe {
    asm!(
        "mov {tmp}, {x}",
        "shl {tmp}, 1",
        "shl {x}, 2",
        "add {x}, {tmp}",
        x = inout(reg) x,
        tmp = out(reg) _,
    );
}
assert_eq!(x, 4 * 6);
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.syntax"><a class="rule-link" href="#r-asm.syntax" title="asm.syntax"><span>[asm<wbr>.syntax]</span></a>
</div>

<h2 id="구문"><a class="header" href="#구문">구문</a></h2>
<p>The following grammar specifies the arguments that can be passed to the <code>asm!</code>, <code>global_asm!</code> and <code>naked_asm!</code> macros.</p>
<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong> <br> <span class="grammar-text grammar-production" id="grammar-AsmArgs" onclick="show_railroad()"><a href="inline-assembly.html#railroad-AsmArgs">AsmArgs</a></span> → <span class="grammar-text"><a href="inline-assembly.html#grammar-AsmAttrFormatString">AsmAttrFormatString</a></span> ( <span class="grammar-literal">,</span> <span class="grammar-text"><a href="inline-assembly.html#grammar-AsmAttrFormatString">AsmAttrFormatString</a></span> )<sup>*</sup> ( <span class="grammar-literal">,</span> <span class="grammar-text"><a href="inline-assembly.html#grammar-AsmAttrOperand">AsmAttrOperand</a></span> )<sup>*</sup> <span class="grammar-literal">,</span><sup>?</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-FormatString" onclick="show_railroad()"><a href="inline-assembly.html#railroad-FormatString">FormatString</a></span> → <span class="grammar-text"><a href="tokens.html#grammar-STRING_LITERAL">STRING_LITERAL</a></span> | <span class="grammar-text"><a href="tokens.html#grammar-RAW_STRING_LITERAL">RAW_STRING_LITERAL</a></span> | <span class="grammar-text"><a href="macros.html#grammar-MacroInvocation">MacroInvocation</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-AsmAttrFormatString" onclick="show_railroad()"><a href="inline-assembly.html#railroad-AsmAttrFormatString">AsmAttrFormatString</a></span> → ( <span class="grammar-text"><a href="attributes.html#grammar-OuterAttribute">OuterAttribute</a></span> )<sup>*</sup> <span class="grammar-text"><a href="inline-assembly.html#grammar-FormatString">FormatString</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-AsmOperand" onclick="show_railroad()"><a href="inline-assembly.html#railroad-AsmOperand">AsmOperand</a></span> →<br>      <span class="grammar-text"><a href="inline-assembly.html#grammar-ClobberAbi">ClobberAbi</a></span><br>    | <span class="grammar-text"><a href="inline-assembly.html#grammar-AsmOptions">AsmOptions</a></span><br>    | <span class="grammar-text"><a href="inline-assembly.html#grammar-RegOperand">RegOperand</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-AsmAttrOperand" onclick="show_railroad()"><a href="inline-assembly.html#railroad-AsmAttrOperand">AsmAttrOperand</a></span> → ( <span class="grammar-text"><a href="attributes.html#grammar-OuterAttribute">OuterAttribute</a></span> )<sup>*</sup> <span class="grammar-text"><a href="inline-assembly.html#grammar-AsmOperand">AsmOperand</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-ClobberAbi" onclick="show_railroad()"><a href="inline-assembly.html#railroad-ClobberAbi">ClobberAbi</a></span> → <span class="grammar-literal">clobber_abi</span> <span class="grammar-literal">(</span> <span class="grammar-text"><a href="items/functions.html#grammar-Abi">Abi</a></span> ( <span class="grammar-literal">,</span> <span class="grammar-text"><a href="items/functions.html#grammar-Abi">Abi</a></span> )<sup>*</sup> <span class="grammar-literal">,</span><sup>?</sup> <span class="grammar-literal">)</span></p>
<p><span class="grammar-text grammar-production" id="grammar-AsmOptions" onclick="show_railroad()"><a href="inline-assembly.html#railroad-AsmOptions">AsmOptions</a></span> →<br>    <span class="grammar-literal">options</span> <span class="grammar-literal">(</span> ( <span class="grammar-text"><a href="inline-assembly.html#grammar-AsmOption">AsmOption</a></span> ( <span class="grammar-literal">,</span> <span class="grammar-text"><a href="inline-assembly.html#grammar-AsmOption">AsmOption</a></span> )<sup>*</sup> <span class="grammar-literal">,</span><sup>?</sup> )<sup>?</sup> <span class="grammar-literal">)</span></p>
<p><span class="grammar-text grammar-production" id="grammar-AsmOption" onclick="show_railroad()"><a href="inline-assembly.html#railroad-AsmOption">AsmOption</a></span> →<br>      <span class="grammar-literal">pure</span><br>    | <span class="grammar-literal">nomem</span><br>    | <span class="grammar-literal">readonly</span><br>    | <span class="grammar-literal">preserves_flags</span><br>    | <span class="grammar-literal">noreturn</span><br>    | <span class="grammar-literal">nostack</span><br>    | <span class="grammar-literal">att_syntax</span><br>    | <span class="grammar-literal">raw</span></p>
<p><span class="grammar-text grammar-production" id="grammar-RegOperand" onclick="show_railroad()"><a href="inline-assembly.html#railroad-RegOperand">RegOperand</a></span> → ( <span class="grammar-text"><a href="inline-assembly.html#grammar-ParamName">ParamName</a></span> <span class="grammar-literal">=</span> )<sup>?</sup><br>    (<br>          <span class="grammar-text"><a href="inline-assembly.html#grammar-DirSpec">DirSpec</a></span> <span class="grammar-literal">(</span> <span class="grammar-text"><a href="inline-assembly.html#grammar-RegSpec">RegSpec</a></span> <span class="grammar-literal">)</span> <span class="grammar-text"><a href="expressions.html#grammar-Expression">Expression</a></span><br>        | <span class="grammar-text"><a href="inline-assembly.html#grammar-DualDirSpec">DualDirSpec</a></span> <span class="grammar-literal">(</span> <span class="grammar-text"><a href="inline-assembly.html#grammar-RegSpec">RegSpec</a></span> <span class="grammar-literal">)</span> <span class="grammar-text"><a href="inline-assembly.html#grammar-DualDirSpecExpression">DualDirSpecExpression</a></span><br>        | <span class="grammar-literal">sym</span> <span class="grammar-text"><a href="expressions/path-expr.html#grammar-PathExpression">PathExpression</a></span><br>        | <span class="grammar-literal">const</span> <span class="grammar-text"><a href="expressions.html#grammar-Expression">Expression</a></span><br>        | <span class="grammar-literal">label</span> <span class="grammar-literal">{</span> <span class="grammar-text"><a href="expressions/block-expr.html#grammar-Statements">Statements</a></span><sup>?</sup> <span class="grammar-literal">}</span><br>    )</p>
<p><span class="grammar-text grammar-production" id="grammar-ParamName" onclick="show_railroad()"><a href="inline-assembly.html#railroad-ParamName">ParamName</a></span> → <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER_OR_KEYWORD">IDENTIFIER_OR_KEYWORD</a></span> | <span class="grammar-text"><a href="identifiers.html#grammar-RAW_IDENTIFIER">RAW_IDENTIFIER</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-DualDirSpecExpression" onclick="show_railroad()"><a href="inline-assembly.html#railroad-DualDirSpecExpression">DualDirSpecExpression</a></span> →<br>      <span class="grammar-text"><a href="expressions.html#grammar-Expression">Expression</a></span><br>    | <span class="grammar-text"><a href="expressions.html#grammar-Expression">Expression</a></span> <span class="grammar-literal">=&gt;</span> <span class="grammar-text"><a href="expressions.html#grammar-Expression">Expression</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-RegSpec" onclick="show_railroad()"><a href="inline-assembly.html#railroad-RegSpec">RegSpec</a></span> → <span class="grammar-text"><a href="inline-assembly.html#grammar-RegisterClass">RegisterClass</a></span> | <span class="grammar-text"><a href="inline-assembly.html#grammar-ExplicitRegister">ExplicitRegister</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-RegisterClass" onclick="show_railroad()"><a href="inline-assembly.html#railroad-RegisterClass">RegisterClass</a></span> → <span class="grammar-text"><a href="identifiers.html#grammar-IDENTIFIER_OR_KEYWORD">IDENTIFIER_OR_KEYWORD</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-ExplicitRegister" onclick="show_railroad()"><a href="inline-assembly.html#railroad-ExplicitRegister">ExplicitRegister</a></span> → <span class="grammar-text"><a href="tokens.html#grammar-STRING_LITERAL">STRING_LITERAL</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-DirSpec" onclick="show_railroad()"><a href="inline-assembly.html#railroad-DirSpec">DirSpec</a></span> →<br>      <span class="grammar-literal">in</span><br>    | <span class="grammar-literal">out</span><br>    | <span class="grammar-literal">lateout</span></p>
<p><span class="grammar-text grammar-production" id="grammar-DualDirSpec" onclick="show_railroad()"><a href="inline-assembly.html#railroad-DualDirSpec">DualDirSpec</a></span> →<br>      <span class="grammar-literal">inout</span><br>    | <span class="grammar-literal">inlateout</span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>

<div class="grammar-railroad grammar-hidden">
<div style="width: 872px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-AsmArgs"><svg class="railroad" viewbox="0 0 872 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="inline-assembly.html#grammar-AsmArgs">
<text class="comment" x="39" y="25">
AsmArgs</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<a class="link" xlink:href="inline-assembly.html#railroad-AsmAttrFormatString">
<g class="nonterminal">
<rect height="22" width="172" x="35" y="55" />
<text x="121" y="71">
AsmAttrFormatString</text>
</g>
</a>
<g class="optional">
<path d=" M 217 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 234 m -114 0 l -5 -5 m 0 10 l 5 -5 m 114 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="repeat">
<path d=" M 241 66 h 12 m 210 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -210 m 108 0 l 5 -5 m 0 10 l -5 -5 m -108 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12" />
<g />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="253" y="55" />
<text x="267" y="71">
,</text>
</g>
<a class="link" xlink:href="inline-assembly.html#railroad-AsmAttrFormatString">
<g class="nonterminal">
<rect height="22" width="172" x="291" y="55" />
<text x="377" y="71">
AsmAttrFormatString</text>
</g>
</a>
<path d=" M 281 66 h 10" />
</g>
</g>
</g>
<g class="optional">
<path d=" M 509 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 194 m -94 0 l -5 -5 m 0 10 l 5 -5 m 94 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="repeat">
<path d=" M 533 66 h 12 m 170 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -170 m 88 0 l 5 -5 m 0 10 l -5 -5 m -88 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12" />
<g />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="545" y="55" />
<text x="559" y="71">
,</text>
</g>
<a class="link" xlink:href="inline-assembly.html#railroad-AsmAttrOperand">
<g class="nonterminal">
<rect height="22" width="132" x="583" y="55" />
<text x="649" y="71">
AsmAttrOperand</text>
</g>
</a>
<path d=" M 573 66 h 10" />
</g>
</g>
</g>
<g class="optional">
<path d=" M 761 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="785" y="55" />
<text x="799" y="71">
,</text>
</g>
</g>
<path d=" M 207 66 h 10" />
<path d=" M 499 66 h 10" />
<path d=" M 751 66 h 10" />
</g>
<path d=" M 847 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 837 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 282px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-FormatString"><svg class="railroad" viewbox="0 0 282 140" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="inline-assembly.html#grammar-FormatString">
<text class="comment" x="57" y="25">
FormatString</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 53 h 24 m 132 0 h 56 m -25 0 l -5 -5 m 0 10 l 5 -5 m 25 0" />
<a class="link" xlink:href="tokens.html#railroad-STRING_LITERAL">
<g class="nonterminal">
<rect height="22" width="132" x="59" y="42" />
<text x="125" y="58">
STRING_LITERAL</text>
</g>
</a>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 188 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 74 v 33 m 188 0 v -33" />
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 164 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<a class="link" xlink:href="tokens.html#railroad-RAW_STRING_LITERAL">
<g class="nonterminal">
<rect height="22" width="164" x="59" y="75" />
<text x="141" y="91">
RAW_STRING_LITERAL</text>
</g>
</a>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 140 0 h 24 a 12 12 0 0 0 12 -12 v 0" />
<a class="link" xlink:href="macros.html#railroad-MacroInvocation">
<g class="nonterminal">
<rect height="22" width="140" x="59" y="108" />
<text x="129" y="124">
MacroInvocation</text>
</g>
</a>
</g>
<path d=" M 257 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 247 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 400px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-AsmAttrFormatString"><svg class="railroad" viewbox="0 0 400 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="inline-assembly.html#grammar-AsmAttrFormatString">
<text class="comment" x="81" y="25">
AsmAttrFormatString</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="optional">
<path d=" M 35 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 156 m -75 0 l -5 -5 m 0 10 l 5 -5 m 75 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="repeat">
<path d=" M 59 66 h 12 m 132 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -132 m 69 0 l 5 -5 m 0 10 l -5 -5 m -69 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12" />
<g />
<a class="link" xlink:href="attributes.html#railroad-OuterAttribute">
<g class="nonterminal">
<rect height="22" width="132" x="71" y="55" />
<text x="137" y="71">
OuterAttribute</text>
</g>
</a>
</g>
</g>
<a class="link" xlink:href="inline-assembly.html#railroad-FormatString">
<g class="nonterminal">
<rect height="22" width="116" x="249" y="55" />
<text x="307" y="71">
FormatString</text>
</g>
</a>
<path d=" M 239 66 h 10" />
</g>
<path d=" M 375 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 365 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 218px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-AsmOperand"><svg class="railroad" viewbox="0 0 218 140" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="inline-assembly.html#grammar-AsmOperand">
<text class="comment" x="50" y="25">
AsmOperand</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 53 h 24 m 100 0 h 24" />
<g class="sequence">
<a class="link" xlink:href="inline-assembly.html#railroad-ClobberAbi">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="42" />
<text x="109" y="58">
ClobberAbi</text>
</g>
</a>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 124 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 74 v 33 m 124 0 v -33" />
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 100 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="inline-assembly.html#railroad-AsmOptions">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="75" />
<text x="109" y="91">
AsmOptions</text>
</g>
</a>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 100 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<a class="link" xlink:href="inline-assembly.html#railroad-RegOperand">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="108" />
<text x="109" y="124">
RegOperand</text>
</g>
</a>
</g>
<path d=" M 193 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 183 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 384px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-AsmAttrOperand"><svg class="railroad" viewbox="0 0 384 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="inline-assembly.html#grammar-AsmAttrOperand">
<text class="comment" x="64" y="25">
AsmAttrOperand</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="optional">
<path d=" M 35 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 156 m -75 0 l -5 -5 m 0 10 l 5 -5 m 75 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="repeat">
<path d=" M 59 66 h 12 m 132 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -132 m 69 0 l 5 -5 m 0 10 l -5 -5 m -69 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12" />
<g />
<a class="link" xlink:href="attributes.html#railroad-OuterAttribute">
<g class="nonterminal">
<rect height="22" width="132" x="71" y="55" />
<text x="137" y="71">
OuterAttribute</text>
</g>
</a>
</g>
</g>
<a class="link" xlink:href="inline-assembly.html#railroad-AsmOperand">
<g class="nonterminal">
<rect height="22" width="100" x="249" y="55" />
<text x="299" y="71">
AsmOperand</text>
</g>
</a>
<path d=" M 239 66 h 10" />
</g>
<path d=" M 359 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 349 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 558px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ClobberAbi"><svg class="railroad" viewbox="0 0 558 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="inline-assembly.html#grammar-ClobberAbi">
<text class="comment" x="50" y="25">
ClobberAbi</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="108" x="35" y="55" />
<text x="89" y="71">
clobber_abi</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="153" y="55" />
<text x="167" y="71">
(</text>
</g>
<a class="link" xlink:href="items/functions.html#railroad-Abi">
<g class="nonterminal">
<rect height="22" width="44" x="191" y="55" />
<text x="213" y="71">
Abi</text>
</g>
</a>
<g class="optional">
<path d=" M 245 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 106 m -50 0 l -5 -5 m 0 10 l 5 -5 m 50 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="repeat">
<path d=" M 269 66 h 12 m 82 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -82 m 44 0 l 5 -5 m 0 10 l -5 -5 m -44 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12" />
<g />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="281" y="55" />
<text x="295" y="71">
,</text>
</g>
<a class="link" xlink:href="items/functions.html#railroad-Abi">
<g class="nonterminal">
<rect height="22" width="44" x="319" y="55" />
<text x="341" y="71">
Abi</text>
</g>
</a>
<path d=" M 309 66 h 10" />
</g>
</g>
</g>
<g class="optional">
<path d=" M 409 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="433" y="55" />
<text x="447" y="71">
,</text>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="495" y="55" />
<text x="509" y="71">
)</text>
</g>
<path d=" M 143 66 h 10" />
<path d=" M 181 66 h 10" />
<path d=" M 235 66 h 10" />
<path d=" M 399 66 h 10" />
<path d=" M 485 66 h 10" />
</g>
<path d=" M 533 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 523 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 670px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-AsmOptions"><svg class="railroad" viewbox="0 0 670 112" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="inline-assembly.html#grammar-AsmOptions">
<text class="comment" x="50" y="25">
AsmOptions</text>
</a>
<g class="sequence">
<path d=" M 10 78 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="76" x="35" y="67" />
<text x="73" y="83">
options</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="121" y="67" />
<text x="135" y="83">
(</text>
</g>
<g class="optional">
<path d=" M 159 78 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -12 a 12 12 0 0 1 12 -12 h 390 m -192 0 l -5 -5 m 0 10 l 5 -5 m 192 0 a 12 12 0 0 1 12 12 v 12 a 12 12 0 0 0 12 12 h -24" />
<g class="sequence">
<a class="link" xlink:href="inline-assembly.html#railroad-AsmOption">
<g class="nonterminal">
<rect height="22" width="92" x="183" y="67" />
<text x="229" y="83">
AsmOption</text>
</g>
</a>
<g class="optional">
<path d=" M 285 78 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 154 m -74 0 l -5 -5 m 0 10 l 5 -5 m 74 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="repeat">
<path d=" M 309 78 h 12 m 130 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -130 m 68 0 l 5 -5 m 0 10 l -5 -5 m -68 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12" />
<g />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="321" y="67" />
<text x="335" y="83">
,</text>
</g>
<a class="link" xlink:href="inline-assembly.html#railroad-AsmOption">
<g class="nonterminal">
<rect height="22" width="92" x="359" y="67" />
<text x="405" y="83">
AsmOption</text>
</g>
</a>
<path d=" M 349 78 h 10" />
</g>
</g>
</g>
<g class="optional">
<path d=" M 497 78 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="521" y="67" />
<text x="535" y="83">
,</text>
</g>
</g>
<path d=" M 275 78 h 10" />
<path d=" M 487 78 h 10" />
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="607" y="67" />
<text x="621" y="83">
)</text>
</g>
<path d=" M 111 78 h 10" />
<path d=" M 149 78 h 10" />
<path d=" M 597 78 h 10" />
</g>
<path d=" M 645 78 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 78 h 10" />
<path d=" M 635 78 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 258px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-AsmOption"><svg class="railroad" viewbox="0 0 258 305" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="inline-assembly.html#grammar-AsmOption">
<text class="comment" x="46" y="25">
AsmOption</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 53 h 24 m 52 0 h 112 m -53 0 l -5 -5 m 0 10 l 5 -5 m 53 0" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="52" x="59" y="42" />
<text x="85" y="58">
pure</text>
</g>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 164 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 74 v 33 m 164 0 v -33" />
<path d=" M 47 107 v 33 m 164 0 v -33" />
<path d=" M 47 140 v 33 m 164 0 v -33" />
<path d=" M 47 173 v 33 m 164 0 v -33" />
<path d=" M 47 206 v 33 m 164 0 v -33" />
<path d=" M 47 239 v 33 m 164 0 v -33" />
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 60 0 h 80 m -37 0 l -5 -5 m 0 10 l 5 -5 m 37 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="60" x="59" y="75" />
<text x="89" y="91">
nomem</text>
</g>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 84 0 h 56 m -25 0 l -5 -5 m 0 10 l 5 -5 m 25 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="84" x="59" y="108" />
<text x="101" y="124">
readonly</text>
</g>
</g>
<path d=" M 47 140 v 0 a 12 12 0 0 0 12 12 m 140 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="140" x="59" y="141" />
<text x="129" y="157">
preserves_flags</text>
</g>
</g>
<path d=" M 47 173 v 0 a 12 12 0 0 0 12 12 m 84 0 h 56 m -25 0 l -5 -5 m 0 10 l 5 -5 m 25 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="84" x="59" y="174" />
<text x="101" y="190">
noreturn</text>
</g>
</g>
<path d=" M 47 206 v 0 a 12 12 0 0 0 12 12 m 76 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="76" x="59" y="207" />
<text x="97" y="223">
nostack</text>
</g>
</g>
<path d=" M 47 239 v 0 a 12 12 0 0 0 12 12 m 100 0 h 40 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="100" x="59" y="240" />
<text x="109" y="256">
att_syntax</text>
</g>
</g>
<path d=" M 47 272 v 0 a 12 12 0 0 0 12 12 m 44 0 h 96 m -45 0 l -5 -5 m 0 10 l 5 -5 m 45 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="273" />
<text x="81" y="289">
raw</text>
</g>
</g>
<path d=" M 233 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 223 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 782px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RegOperand"><svg class="railroad" viewbox="0 0 782 231" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="inline-assembly.html#grammar-RegOperand">
<text class="comment" x="50" y="25">
RegOperand</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="sequence">
<g class="optional">
<path d=" M 35 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 130 m -62 0 l -5 -5 m 0 10 l 5 -5 m 62 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<g class="sequence">
<a class="link" xlink:href="inline-assembly.html#railroad-ParamName">
<g class="nonterminal">
<rect height="22" width="92" x="59" y="55" />
<text x="105" y="71">
ParamName</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="161" y="55" />
<text x="175" y="71">
=</text>
</g>
<path d=" M 151 66 h 10" />
</g>
</g>
<g class="choice">
<path d=" M 223 66 h 24 m 348 0 h 152 m -73 0 l -5 -5 m 0 10 l 5 -5 m 73 0" />
<g class="sequence">
<a class="link" xlink:href="inline-assembly.html#railroad-DirSpec">
<g class="nonterminal">
<rect height="22" width="76" x="247" y="55" />
<text x="285" y="71">
DirSpec</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="333" y="55" />
<text x="347" y="71">
(</text>
</g>
<a class="link" xlink:href="inline-assembly.html#railroad-RegSpec">
<g class="nonterminal">
<rect height="22" width="76" x="371" y="55" />
<text x="409" y="71">
RegSpec</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="457" y="55" />
<text x="471" y="71">
)</text>
</g>
<a class="link" xlink:href="expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="495" y="55" />
<text x="545" y="71">
Expression</text>
</g>
</a>
<path d=" M 323 66 h 10" />
<path d=" M 361 66 h 10" />
<path d=" M 447 66 h 10" />
<path d=" M 485 66 h 10" />
</g>
<path d=" M 223 66 a 12 12 0 0 1 12 12 v 9 m 500 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 235 87 v 33 m 500 0 v -33" />
<path d=" M 235 120 v 33 m 500 0 v -33" />
<path d=" M 235 153 v 33 m 500 0 v -33" />
<path d=" M 235 87 v 0 a 12 12 0 0 0 12 12 m 476 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="inline-assembly.html#railroad-DualDirSpec">
<g class="nonterminal">
<rect height="22" width="108" x="247" y="88" />
<text x="301" y="104">
DualDirSpec</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="365" y="88" />
<text x="379" y="104">
(</text>
</g>
<a class="link" xlink:href="inline-assembly.html#railroad-RegSpec">
<g class="nonterminal">
<rect height="22" width="76" x="403" y="88" />
<text x="441" y="104">
RegSpec</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="489" y="88" />
<text x="503" y="104">
)</text>
</g>
<a class="link" xlink:href="inline-assembly.html#railroad-DualDirSpecExpression">
<g class="nonterminal">
<rect height="22" width="196" x="527" y="88" />
<text x="625" y="104">
DualDirSpecExpression</text>
</g>
</a>
<path d=" M 355 99 h 10" />
<path d=" M 393 99 h 10" />
<path d=" M 479 99 h 10" />
<path d=" M 517 99 h 10" />
</g>
<path d=" M 235 120 v 0 a 12 12 0 0 0 12 12 m 186 0 h 290 m -142 0 l -5 -5 m 0 10 l 5 -5 m 142 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="247" y="121" />
<text x="269" y="137">
sym</text>
</g>
<a class="link" xlink:href="expressions/path-expr.html#railroad-PathExpression">
<g class="nonterminal">
<rect height="22" width="132" x="301" y="121" />
<text x="367" y="137">
PathExpression</text>
</g>
</a>
<path d=" M 291 132 h 10" />
</g>
<path d=" M 235 153 v 0 a 12 12 0 0 0 12 12 m 170 0 h 306 m -150 0 l -5 -5 m 0 10 l 5 -5 m 150 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="60" x="247" y="154" />
<text x="277" y="170">
const</text>
</g>
<a class="link" xlink:href="expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="317" y="154" />
<text x="367" y="170">
Expression</text>
</g>
</a>
<path d=" M 307 165 h 10" />
</g>
<path d=" M 235 186 v 12 a 12 12 0 0 0 12 12 m 294 0 h 182 m -88 0 l -5 -5 m 0 10 l 5 -5 m 88 0 a 12 12 0 0 0 12 -12 v -12" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="60" x="247" y="199" />
<text x="277" y="215">
label</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="317" y="199" />
<text x="331" y="215">
{</text>
</g>
<g class="optional">
<path d=" M 355 210 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 100 m -47 0 l -5 -5 m 0 10 l 5 -5 m 47 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24" />
<a class="link" xlink:href="expressions/block-expr.html#railroad-Statements">
<g class="nonterminal">
<rect height="22" width="100" x="379" y="199" />
<text x="429" y="215">
Statements</text>
</g>
</a>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="513" y="199" />
<text x="527" y="215">
}</text>
</g>
<path d=" M 307 210 h 10" />
<path d=" M 345 210 h 10" />
<path d=" M 503 210 h 10" />
</g>
</g>
<path d=" M 213 66 h 10" />
</g>
<path d=" M 757 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 66 h 10" />
<path d=" M 747 66 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 314px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ParamName"><svg class="railroad" viewbox="0 0 314 107" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="inline-assembly.html#grammar-ParamName">
<text class="comment" x="46" y="25">
ParamName</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 53 h 24 m 196 0 h 24" />
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER_OR_KEYWORD">
<g class="nonterminal">
<rect height="22" width="196" x="59" y="42" />
<text x="157" y="58">
IDENTIFIER_OR_KEYWORD</text>
</g>
</a>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 220 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 132 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0 a 12 12 0 0 0 12 -12 v 0" />
<a class="link" xlink:href="identifiers.html#railroad-RAW_IDENTIFIER">
<g class="nonterminal">
<rect height="22" width="132" x="59" y="75" />
<text x="125" y="91">
RAW_IDENTIFIER</text>
</g>
</a>
</g>
<path d=" M 289 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 279 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 374px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-DualDirSpecExpression"><svg class="railroad" viewbox="0 0 374 107" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="inline-assembly.html#grammar-DualDirSpecExpression">
<text class="comment" x="92" y="25">
DualDirSpecExpression</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 53 h 24 m 100 0 h 180 m -87 0 l -5 -5 m 0 10 l 5 -5 m 87 0" />
<g class="sequence">
<a class="link" xlink:href="expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="42" />
<text x="109" y="58">
Expression</text>
</g>
</a>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 280 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 256 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<a class="link" xlink:href="expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="59" y="75" />
<text x="109" y="91">
Expression</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="169" y="75" />
<text x="187" y="91">
=&gt;</text>
</g>
<a class="link" xlink:href="expressions.html#railroad-Expression">
<g class="nonterminal">
<rect height="22" width="100" x="215" y="75" />
<text x="265" y="91">
Expression</text>
</g>
</a>
<path d=" M 159 86 h 10" />
<path d=" M 205 86 h 10" />
</g>
</g>
<path d=" M 349 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 339 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 266px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RegSpec"><svg class="railroad" viewbox="0 0 266 107" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="inline-assembly.html#grammar-RegSpec">
<text class="comment" x="39" y="25">
RegSpec</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 53 h 24 m 124 0 h 48" />
<a class="link" xlink:href="inline-assembly.html#railroad-RegisterClass">
<g class="nonterminal">
<rect height="22" width="124" x="59" y="42" />
<text x="121" y="58">
RegisterClass</text>
</g>
</a>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 172 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 148 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<a class="link" xlink:href="inline-assembly.html#railroad-ExplicitRegister">
<g class="nonterminal">
<rect height="22" width="148" x="59" y="75" />
<text x="133" y="91">
ExplicitRegister</text>
</g>
</a>
</g>
<path d=" M 241 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 231 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 266px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-RegisterClass"><svg class="railroad" viewbox="0 0 266 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="inline-assembly.html#grammar-RegisterClass">
<text class="comment" x="60" y="25">
RegisterClass</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<a class="link" xlink:href="identifiers.html#railroad-IDENTIFIER_OR_KEYWORD">
<g class="nonterminal">
<rect height="22" width="196" x="35" y="42" />
<text x="133" y="58">
IDENTIFIER_OR_KEYWORD</text>
</g>
</a>
<path d=" M 241 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 231 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 202px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ExplicitRegister"><svg class="railroad" viewbox="0 0 202 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="inline-assembly.html#grammar-ExplicitRegister">
<text class="comment" x="71" y="25">
ExplicitRegister</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<a class="link" xlink:href="tokens.html#railroad-STRING_LITERAL">
<g class="nonterminal">
<rect height="22" width="132" x="35" y="42" />
<text x="101" y="58">
STRING_LITERAL</text>
</g>
</a>
<path d=" M 177 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 167 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 194px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-DirSpec"><svg class="railroad" viewbox="0 0 194 140" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="inline-assembly.html#grammar-DirSpec">
<text class="comment" x="39" y="25">
DirSpec</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 53 h 24 m 36 0 h 64 m -29 0 l -5 -5 m 0 10 l 5 -5 m 29 0" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="59" y="42" />
<text x="77" y="58">
in</text>
</g>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 100 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 74 v 33 m 100 0 v -33" />
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 44 0 h 32 a 12 12 0 0 0 12 -12 v 0" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="75" />
<text x="81" y="91">
out</text>
</g>
</g>
<path d=" M 47 107 v 0 a 12 12 0 0 0 12 12 m 76 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="76" x="59" y="108" />
<text x="97" y="124">
lateout</text>
</g>
</g>
<path d=" M 169 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 159 53 h 10" />
</g>
</g>
</svg>
</div>

<div style="width: 210px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-DualDirSpec"><svg class="railroad" viewbox="0 0 210 107" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%" />
<g class="verticalgrid">
<a class="link" xlink:href="inline-assembly.html#grammar-DualDirSpec">
<text class="comment" x="53" y="25">
DualDirSpec</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5" />
<g class="choice">
<path d=" M 35 53 h 24 m 60 0 h 56 m -25 0 l -5 -5 m 0 10 l 5 -5 m 25 0" />
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="60" x="59" y="42" />
<text x="89" y="58">
inout</text>
</g>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 116 0 v -9 a 12 12 0 0 1 12 -12" />
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 92 0 h 0 a 12 12 0 0 0 12 -12 v 0" />
<g class="terminal">
<rect height="22" rx="10" ry="10" width="92" x="59" y="75" />
<text x="105" y="91">
inlateout</text>
</g>
</g>
<path d=" M 185 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5" />
<path d=" M 25 53 h 10" />
<path d=" M 175 53 h 10" />
</g>
</g>
</svg>
</div>

</div>

<div class="rule" id="r-asm.scope"><a class="rule-link" href="#r-asm.scope" title="asm.scope"><span>[asm<wbr>.scope]</span></a>
</div>

<h2 id="스코프"><a class="header" href="#스코프">스코프</a></h2>
<div class="rule" id="r-asm.scope.intro"><a class="rule-link" href="#r-asm.scope.intro" title="asm.scope.intro"><span>[asm<wbr>.scope<wbr>.intro]</span></a>
</div>

<p>Inline assembly can be used in one of three ways.</p>
<div class="rule" id="r-asm.scope.asm"><a class="rule-link" href="#r-asm.scope.asm" title="asm.scope.asm"><span>[asm<wbr>.scope<wbr>.asm]</span></a>
</div>

<p><code>asm!</code> 매크로를 사용하면, 어셈블리 코드는 함수 스코프에서 배출되어 컴파일러가 생성한 함수의 어셈블리 코드와 통합됩니다. 이 어셈블리 코드는 정의되지 않은 동작을 피하기 위해 <a href="#rules-for-inline-assembly">엄격한 규칙</a> 을 따라야 합니다. 경우에 따라 컴파일러는 어셈블리 코드를 별도의 함수로 배출하고 그 함수에 대한 호출을 생성할 수도 있습니다.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>unsafe { core::arch::asm!("/* {} */", in(reg) 0); }
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.scope.naked_asm"><a class="rule-link" href="#r-asm.scope.naked_asm" title="asm.scope.naked_asm"><span>[asm<wbr>.scope<wbr>.naked_asm]</span></a>
</div>

<p>With the <code>naked_asm!</code> macro, the assembly code is emitted in a function scope and constitutes the full assembly code of a function. The <code>naked_asm!</code> macro is only allowed in <a href="attributes/codegen.html#the-naked-attribute">naked functions</a>.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span><span class="boring">#[unsafe(naked)]
</span><span class="boring">extern "C" fn wrapper() {
</span>core::arch::naked_asm!("/* {} */", const 0);
<span class="boring">}
</span><span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.scope.global_asm"><a class="rule-link" href="#r-asm.scope.global_asm" title="asm.scope.global_asm"><span>[asm<wbr>.scope<wbr>.global_asm]</span></a>
</div>

<p>With the <code>global_asm!</code> macro, the assembly code is emitted in a global scope, outside a function. This can be used to hand-write entire functions using assembly code, and generally provides much more freedom to use arbitrary registers and assembler directives.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">fn main() {}
</span><span class="boring">#[cfg(target_arch = "x86_64")]
</span>core::arch::global_asm!("/* {} */", const 0);</code></pre>
<div class="rule" id="r-asm.ts-args"><a class="rule-link" href="#r-asm.ts-args" title="asm.ts-args"><span>[asm<wbr>.ts-args]</span></a>
</div>

<h2 id="템플릿-문자열-인자"><a class="header" href="#템플릿-문자열-인자">템플릿 문자열 인자</a></h2>
<div class="rule" id="r-asm.ts-args.syntax"><a class="rule-link" href="#r-asm.ts-args.syntax" title="asm.ts-args.syntax"><span>[asm<wbr>.ts-args<wbr>.syntax]</span></a>
</div>

<p>어셈블러 템플릿은 <a href="../alloc/fmt/index.html#syntax">포맷 문자열</a> 과 동일한 구문을 사용합니다 (즉, 플레이스홀더는 중괄호로 지정됩니다).</p>
<div class="rule" id="r-asm.ts-args.order"><a class="rule-link" href="#r-asm.ts-args.order" title="asm.ts-args.order"><span>[asm<wbr>.ts-args<wbr>.order]</span></a>
</div>

<p>해당 인자들은 순서대로, 인덱스로, 또는 이름으로 접근됩니다.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let x: i64;
let y: i64;
let z: i64;
// 이것과
unsafe { core::arch::asm!("mov {}, {}", out(reg) x, in(reg) 5); }
// ... 이것
unsafe { core::arch::asm!("mov {0}, {1}", out(reg) y, in(reg) 5); }
// ... 그리고 이것은
unsafe { core::arch::asm!("mov {out}, {in}", out = out(reg) z, in = in(reg) 5); }
// 모두 동일하게 동작합니다.
assert_eq!(x, y);
assert_eq!(y, z);
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.ts-args.no-implicit"><a class="rule-link" href="#r-asm.ts-args.no-implicit" title="asm.ts-args.no-implicit"><span>[asm<wbr>.ts-args<wbr>.no-implicit]</span></a>
</div>

<p>하지만, (<a href="https://github.com/rust-lang/rfcs/pull/2795">RFC #2795</a> 에서 도입된) 암시적 명명된 인자(implicit named arguments)는 지원되지 않습니다.</p>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let x = 5;
// 스코프에서 직접 `x` 를 참조할 수 없으며, `in(reg) x` 와 같은 피연산자가 필요합니다.
unsafe { core::arch::asm!("/* {x} */"); } // 오류: x라는 이름의 인자가 없습니다.
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.ts-args.one-or-more"><a class="rule-link" href="#r-asm.ts-args.one-or-more" title="asm.ts-args.one-or-more"><span>[asm<wbr>.ts-args<wbr>.one-or-more]</span></a>
</div>

<p><code>asm!</code> 호출은 하나 이상의 템플릿 문자열 인자를 가질 수 있습니다. 여러 개의 템플릿 문자열 인자가 있는 <code>asm!</code> 은 모든 문자열이 사이에 <code>\n</code> 을 두고 연결된 것처럼 처리됩니다. 권장되는 사용법은 각 템플릿 문자열 인자가 어셈블리 코드의 한 줄에 대응하도록 하는 것입니다.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let x: i64;
let y: i64;
// 여러 문자열을 마치 함께 작성된 것처럼 분리할 수 있습니다.
unsafe { core::arch::asm!("mov eax, 5", "mov ecx, eax", out("rax") x, out("rcx") y); }
assert_eq!(x, y);
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.ts-args.before-other-args"><a class="rule-link" href="#r-asm.ts-args.before-other-args" title="asm.ts-args.before-other-args"><span>[asm<wbr>.ts-args<wbr>.before-other-args]</span></a>
</div>

<p>모든 템플릿 문자열 인자는 다른 인자들보다 먼저 나타나야 합니다.</p>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let x = 5;
<span class="boring">#[cfg(target_arch = "x86_64")] {
</span>// 템플릿 문자열은 asm 호출에서 가장 먼저 나타나야 합니다.
unsafe { core::arch::asm!("/* {x} */", x = const 5, "ud2"); } // 오류: 예상치 못한 토큰
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.ts-args.positional-first"><a class="rule-link" href="#r-asm.ts-args.positional-first" title="asm.ts-args.positional-first"><span>[asm<wbr>.ts-args<wbr>.positional-first]</span></a>
</div>

<p>포맷 문자열과 마찬가지로, 위치 기반 인자(positional arguments)는 명명된 인자나 명시적 <a href="#register-operands">레지스터 피연산자</a> 보다 먼저 나타나야 합니다.</p>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>// 명명된 피연산자는 위치 기반 피연산자 뒤에 와야 합니다.
unsafe { core::arch::asm!("/* {x} {} */", x = const 5, in(reg) 5); }
// 오류: 위치 기반 인자는 명명된 인자나 명시적 레지스터 인자 뒤에 올 수 없습니다.
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");
</span><span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>// 또한 위치 기반 피연산자 앞에 명시적 레지스터를 둘 수 없습니다.
unsafe { core::arch::asm!("/* {} */", in("eax") 0, in(reg) 5); }
// 오류: 위치 기반 인자는 명명된 인자나 명시적 레지스터 인자 뒤에 올 수 없습니다.
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.ts-args.register-operands"><a class="rule-link" href="#r-asm.ts-args.register-operands" title="asm.ts-args.register-operands"><span>[asm<wbr>.ts-args<wbr>.register-operands]</span></a>
</div>

<p>명시적 레지스터 피연산자는 템플릿 문자열의 플레이스홀더에서 사용될 수 없습니다.</p>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>// 명시적 레지스터 피연산자는 치환되지 않으므로, 문자열에서 `eax` 를 명시적으로 사용하십시오.
unsafe { core::arch::asm!("/* {} */", in("eax") 5); }
// 오류: 인덱스 0의 인자에 대한 잘못된 참조
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.ts-args.at-least-once"><a class="rule-link" href="#r-asm.ts-args.at-least-once" title="asm.ts-args.at-least-once"><span>[asm<wbr>.ts-args<wbr>.at-least-once]</span></a>
</div>

<p>다른 모든 명명된 및 위치 기반 피연산자는 템플릿 문자열에 최소 한 번 이상 나타나야 하며, 그렇지 않으면 컴파일러 오류가 발생합니다.</p>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>// 포맷 문자열에서 모든 피연산자의 이름을 지정해야 합니다.
unsafe { core::arch::asm!("", in(reg) 5, x = const 5); }
// 오류: 사용되지 않은 여러 개의 asm 인자가 있습니다.
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.ts-args.opaque"><a class="rule-link" href="#r-asm.ts-args.opaque" title="asm.ts-args.opaque"><span>[asm<wbr>.ts-args<wbr>.opaque]</span></a>
</div>

<p>정확한 어셈블리 코드 구문은 타겟에 따라 다르며, 피연산자가 템플릿 문자열에 치환되어 어셈블러에 전달될 코드를 형성하는 방식을 제외하고는 컴파일러에게 불투명(opaque)합니다.</p>
<div class="rule" id="r-asm.ts-args.llvm-syntax"><a class="rule-link" href="#r-asm.ts-args.llvm-syntax" title="asm.ts-args.llvm-syntax"><span>[asm<wbr>.ts-args<wbr>.llvm-syntax]</span></a>
</div>

<p>현재 모든 지원되는 타겟은 LLVM 내부 어셈블러에서 사용하는 어셈블리 코드 구문을 따르며, 이는 대개 GNU 어셈블러(GAS)의 구문과 일치합니다. x86에서는 기본적으로 GAS의 <code>.intel_syntax noprefix</code> 모드가 사용됩니다. ARM에서는 <code>.syntax unified</code> 모드가 사용됩니다. 이러한 타겟들은 어셈블리 코드에 추가적인 제약을 가합니다. 즉, 모든 어셈블러 상태(예: <code>.section</code> 으로 변경될 수 있는 현재 섹션)는 asm 문자열의 끝에서 원래 값으로 복구되어야 합니다. GAS 구문을 따르지 않는 어셈블리 코드는 어셈블러에 따라 다른 동작을 유발할 수 있습니다. 인라인 어셈블리에서 사용되는 지시어(directives)에 대한 추가적인 제약 조건은 <a href="#directives-support">지시어 지원</a> 섹션에 명시되어 있습니다.</p>
<div class="rule" id="r-asm.attributes"><a class="rule-link" href="#r-asm.attributes" title="asm.attributes"><span>[asm<wbr>.attributes]</span></a>
</div>

<h2 id="속성"><a class="header" href="#속성">속성</a></h2>
<div class="rule" id="r-asm.attributes.supported-attributes"><a class="rule-link" href="#r-asm.attributes.supported-attributes" title="asm.attributes.supported-attributes"><span>[asm<wbr>.attributes<wbr>.supported-attributes]</span></a>
</div>

<p>Only the <a href="conditional-compilation.html#the-cfg-attribute"><code>cfg</code></a> and <a href="conditional-compilation.html#the-cfg_attr-attribute"><code>cfg_attr</code></a> attributes are accepted semantically on inline assembly template strings and operands. Other attributes are parsed but rejected when the assembly macro is expanded.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">fn main() {}
</span><span class="boring">#[cfg(target_arch = "x86_64")]
</span>core::arch::global_asm!(
    #[cfg(not(panic = "abort"))]
    ".cfi_startproc",
    // ...
    "ret",
    #[cfg(not(panic = "abort"))]
    ".cfi_endproc",
);</code></pre>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>

<p>In <code>rustc</code>, the assembly macros implement handling of these attributes separately from the normal system that handles similar attributes in the language. This accounts for the limited kinds of attributes supported and may give rise to subtle differences in behavior.</p>
</blockquote>
</div>

<div class="rule" id="r-asm.attributes.starts-with-template"><a class="rule-link" href="#r-asm.attributes.starts-with-template" title="asm.attributes.starts-with-template"><span>[asm<wbr>.attributes<wbr>.starts-with-template]</span></a>
</div>

<p>Syntactically there must be at least one template string before the first operand.</p>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// This is rejected because `a = out(reg) x` does not parse as a
// template string.
core::arch::asm!(
    #[cfg(false)]
    a = out(reg) x, // ERROR.
    "",
);
<span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.operand-type"><a class="rule-link" href="#r-asm.operand-type" title="asm.operand-type"><span>[asm<wbr>.operand-type]</span></a>
</div>

<h2 id="피연산자-타입"><a class="header" href="#피연산자-타입">피연산자 타입</a></h2>
<div class="rule" id="r-asm.operand-type.supported-operands"><a class="rule-link" href="#r-asm.operand-type.supported-operands" title="asm.operand-type.supported-operands"><span>[asm<wbr>.operand-type<wbr>.supported-operands]</span></a>
</div>

<p>여러 종류의 피연산자가 지원됩니다:</p>
<div class="rule" id="r-asm.operand-type.supported-operands.in"><a class="rule-link" href="#r-asm.operand-type.supported-operands.in" title="asm.operand-type.supported-operands.in"><span>[asm<wbr>.operand-type<wbr>.supported-operands<wbr>.in]</span></a>
</div>

<ul>
<li><code>in(&lt;reg&gt;) &lt;expr&gt;</code>
<ul>
<li><code>&lt;reg&gt;</code> 는 레지스터 클래스 또는 명시적 레지스터를 참조할 수 있습니다. 할당된 레지스터 이름이 asm 템플릿 문자열에 치환됩니다.</li>
<li>The allocated register will contain the value of <code>&lt;expr&gt;</code> at the start of the assembly code.</li>
<li>The allocated register must contain the same value at the end of the assembly code (except if a <code>lateout</code> is allocated to the same register).</li>
</ul>
</li>
</ul>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>// `in` 은 인라인 어셈블리에 값을 전달하는 데 사용될 수 있습니다...
unsafe { core::arch::asm!("/* {} */", in(reg) 5); }
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.operand-type.supported-operands.out"><a class="rule-link" href="#r-asm.operand-type.supported-operands.out" title="asm.operand-type.supported-operands.out"><span>[asm<wbr>.operand-type<wbr>.supported-operands<wbr>.out]</span></a>
</div>

<ul>
<li><code>out(&lt;reg&gt;) &lt;expr&gt;</code>
<ul>
<li><code>&lt;reg&gt;</code> 는 레지스터 클래스 또는 명시적 레지스터를 참조할 수 있습니다. 할당된 레지스터 이름이 asm 템플릿 문자열에 치환됩니다.</li>
<li>The allocated register will contain an undefined value at the start of the assembly code.</li>
<li><code>&lt;expr&gt;</code> must be a (possibly uninitialized) place expression, to which the contents of the allocated register are written at the end of the assembly code.</li>
<li>An underscore (<code>_</code>) may be specified instead of an expression, which will cause the contents of the register to be discarded at the end of the assembly code (effectively acting as a clobber).</li>
</ul>
</li>
</ul>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let x: i64;
// 그리고 `out` 은 값을 다시 러스트로 전달하는 데 사용될 수 있습니다.
unsafe { core::arch::asm!("/* {} */", out(reg) x); }
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.operand-type.supported-operands.lateout"><a class="rule-link" href="#r-asm.operand-type.supported-operands.lateout" title="asm.operand-type.supported-operands.lateout"><span>[asm<wbr>.operand-type<wbr>.supported-operands<wbr>.lateout]</span></a>
</div>

<ul>
<li><code>lateout(&lt;reg&gt;) &lt;expr&gt;</code>
<ul>
<li><code>out</code> 과 동일하지만, 레지스터 할당기가 <code>in</code> 에 할당된 레지스터를 재사용할 수 있습니다.</li>
<li>모든 입력이 읽힌 후에만 레지스터에 기록해야 합니다. 그렇지 않으면 입력을 덮어쓸(clobber) 수 있습니다.</li>
</ul>
</li>
</ul>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let x: i64;
// `lateout` 은 `out` 과 동일하지만,
// 우리가 값을 덮어쓸 시점에 입력값들에 대해 더 이상 신경 쓰지 않는다는 것을
// 컴파일러가 알고 있습니다.
unsafe { core::arch::asm!("mov {}, 5", lateout(reg) x); }
assert_eq!(x, 5)
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.operand-type.supported-operands.inout"><a class="rule-link" href="#r-asm.operand-type.supported-operands.inout" title="asm.operand-type.supported-operands.inout"><span>[asm<wbr>.operand-type<wbr>.supported-operands<wbr>.inout]</span></a>
</div>

<ul>
<li><code>inout(&lt;reg&gt;) &lt;expr&gt;</code>
<ul>
<li><code>&lt;reg&gt;</code> 는 레지스터 클래스 또는 명시적 레지스터를 참조할 수 있습니다. 할당된 레지스터 이름이 asm 템플릿 문자열에 치환됩니다.</li>
<li>The allocated register will contain the value of <code>&lt;expr&gt;</code> at the start of the assembly code.</li>
<li><code>&lt;expr&gt;</code> must be a mutable initialized place expression, to which the contents of the allocated register are written at the end of the assembly code.</li>
</ul>
</li>
</ul>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let mut x: i64 = 4;
// `inout` 은 레지스터 내에서 값을 수정하는 데 사용될 수 있습니다.
unsafe { core::arch::asm!("inc {}", inout(reg) x); }
assert_eq!(x, 5);
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.operand-type.supported-operands.inout-arrow"><a class="rule-link" href="#r-asm.operand-type.supported-operands.inout-arrow" title="asm.operand-type.supported-operands.inout-arrow"><span>[asm<wbr>.operand-type<wbr>.supported-operands<wbr>.inout-arrow]</span></a>
</div>

<ul>
<li><code>inout(&lt;reg&gt;) &lt;in expr&gt; =&gt; &lt;out expr&gt;</code>
<ul>
<li><code>inout</code> 과 동일하지만, 레지스터의 초기값이 <code>&lt;in expr&gt;</code> 의 값에서 취해집니다.</li>
<li><code>&lt;out expr&gt;</code> must be a (possibly uninitialized) place expression, to which the contents of the allocated register are written at the end of the assembly code.</li>
<li>An underscore (<code>_</code>) may be specified instead of an expression for <code>&lt;out expr&gt;</code>, which will cause the contents of the register to be discarded at the end of the assembly code (effectively acting as a clobber).</li>
<li><code>&lt;in expr&gt;</code> 과 <code>&lt;out expr&gt;</code> 은 서로 다른 타입을 가질 수 있습니다.</li>
</ul>
</li>
</ul>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let x: i64;
// `inout` 은 또한 값을 다른 장소로 이동시킬 수 있습니다.
unsafe { core::arch::asm!("inc {}", inout(reg) 4u64=&gt;x); }
assert_eq!(x, 5);
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.operand-type.supported-operands.inlateout"><a class="rule-link" href="#r-asm.operand-type.supported-operands.inlateout" title="asm.operand-type.supported-operands.inlateout"><span>[asm<wbr>.operand-type<wbr>.supported-operands<wbr>.inlateout]</span></a>
</div>

<ul>
<li><code>inlateout(&lt;reg&gt;) &lt;expr&gt;</code> / <code>inlateout(&lt;reg&gt;) &lt;in expr&gt; =&gt; &lt;out expr&gt;</code>
<ul>
<li><code>inout</code> 과 동일하지만, 레지스터 할당기가 <code>in</code> 에 할당된 레지스터를 재사용할 수 있습니다(이는 컴파일러가 <code>in</code> 이 <code>inlateout</code> 과 동일한 초기값을 갖는다는 것을 아는 경우 발생할 수 있습니다).</li>
<li>모든 입력이 읽힌 후에만 레지스터에 기록해야 합니다. 그렇지 않으면 입력을 덮어쓸(clobber) 수 있습니다.</li>
</ul>
</li>
</ul>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let mut x: i64 = 4;
// `inlateout` 은 `lateout` 을 사용하는 `inout` 입니다.
unsafe { core::arch::asm!("inc {}", inlateout(reg) x); }
assert_eq!(x, 5);
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.operand-type.supported-operands.sym"><a class="rule-link" href="#r-asm.operand-type.supported-operands.sym" title="asm.operand-type.supported-operands.sym"><span>[asm<wbr>.operand-type<wbr>.supported-operands<wbr>.sym]</span></a>
</div>

<ul>
<li><code>sym &lt;path&gt;</code>
<ul>
<li><code>&lt;path&gt;</code> 는 <code>fn</code> 또는 <code>static</code> 을 참조해야 합니다.</li>
<li>해당 아이템을 참조하는 맹글링된(mangled) 심볼 이름이 asm 템플릿 문자열에 치환됩니다.</li>
<li>치환된 문자열에는 어떠한 수식어(예: GOT, PLT, 재배치(relocations) 등)도 포함되지 않습니다.</li>
<li><code>&lt;path&gt;</code> is allowed to point to a <code>#[thread_local]</code> static, in which case the assembly code can combine the symbol with relocations (e.g. <code>@plt</code>, <code>@TPOFF</code>) to read from thread-local data.</li>
</ul>
</li>
</ul>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>extern "C" fn foo() {
    println!("Hello from inline assembly")
}
// `sym` 은 (직접 쓸 수 있는 외부 이름이 없는 경우에도) 함수를 참조하는 데 사용될 수 있습니다.
unsafe { core::arch::asm!("call {}", sym foo, clobber_abi("C")); }
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.operand-type.supported-operands.const"><a class="rule-link" href="#r-asm.operand-type.supported-operands.const" title="asm.operand-type.supported-operands.const"><span>[asm<wbr>.operand-type<wbr>.supported-operands<wbr>.const]</span></a>
</div>

<ul>
<li><code>const &lt;expr&gt;</code>
<ul>
<li><code>&lt;expr&gt;</code> 은 정수 상수 표현식이어야 합니다. 이 표현식은 인라인 <code>const</code> 블록과 동일한 규칙을 따릅니다.</li>
<li>표현식의 타입은 모든 정수 타입이 될 수 있지만, 정수 리터럴과 마찬가지로 기본값은 <code>i32</code> 입니다.</li>
<li>표현식의 값은 문자열로 포맷되어 asm 템플릿 문자열에 직접 치환됩니다.</li>
</ul>
</li>
</ul>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>// swizzle [0, 1, 2, 3] =&gt; [3, 2, 0, 1]
const SHUFFLE: u8 = 0b01_00_10_11;
let x: core::arch::x86_64::__m128 = unsafe { core::mem::transmute([0u32, 1u32, 2u32, 3u32]) };
let y: core::arch::x86_64::__m128;
// `pshufd` 와 같이 즉시값(immediate)을 기대하는 명령어에 상수 값을 전달합니다.
unsafe {
    core::arch::asm!("pshufd {xmm}, {xmm}, {shuffle}",
        xmm = inlateout(xmm_reg) x=&gt;y,
        shuffle = const SHUFFLE
    );
}
let y: [u32; 4] = unsafe { core::mem::transmute(y) };
assert_eq!(y, [3, 2, 0, 1]);
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.operand-type.supported-operands.label"><a class="rule-link" href="#r-asm.operand-type.supported-operands.label" title="asm.operand-type.supported-operands.label"><span>[asm<wbr>.operand-type<wbr>.supported-operands<wbr>.label]</span></a>
</div>

<ul>
<li><code>label &lt;block&gt;</code>
<ul>
<li>The address of the block is substituted into the asm template string. The assembly code may jump to the substituted address.</li>
<li>For targets that distinguish between direct jumps and indirect jumps (e.g. x86-64 with <code>cf-protection</code> enabled), the assembly code must not jump to the substituted address indirectly.</li>
<li>After execution of the block, the <code>asm!</code> expression returns.</li>
<li>The type of the block must be unit or <code>!</code> (never).</li>
<li>The block starts a new safety context; unsafe operations within the <code>label</code> block must be wrapped in an inner <code>unsafe</code> block, even though the entire <code>asm!</code> expression is already wrapped in <code>unsafe</code>.</li>
</ul>
</li>
</ul>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")]
</span>unsafe {
    core::arch::asm!("jmp {}", label {
        println!("Hello from inline assembly label");
    });
}
<span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.operand-type.left-to-right"><a class="rule-link" href="#r-asm.operand-type.left-to-right" title="asm.operand-type.left-to-right"><span>[asm<wbr>.operand-type<wbr>.left-to-right]</span></a>
</div>

<p>피연산자 표현식은 함수 호출 인자와 마찬가지로 왼쪽에서 오른쪽으로 평가됩니다. <code>asm!</code> 이 실행된 후, 출력값들은 왼쪽에서 오른쪽 순서로 기록됩니다. 이는 두 개의 출력이 동일한 장소를 가리킬 때 중요합니다. 해당 장소는 가장 오른쪽에 있는 출력값을 갖게 됩니다.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let mut y: i64;
// y는 첫 번째 출력이 아니라 두 번째 출력에서 값을 가져옵니다.
unsafe { core::arch::asm!("mov {}, 0", "mov {}, 1", out(reg) y, out(reg) y); }
assert_eq!(y, 1);
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.operand-type.naked_asm-restriction"><a class="rule-link" href="#r-asm.operand-type.naked_asm-restriction" title="asm.operand-type.naked_asm-restriction"><span>[asm<wbr>.operand-type<wbr>.naked_asm-restriction]</span></a>
</div>

<p>Because <code>naked_asm!</code> defines a whole function body and the compiler cannot emit any additional code to handle operands, it can only use <code>sym</code> and <code>const</code> operands.</p>
<div class="rule" id="r-asm.operand-type.global_asm-restriction"><a class="rule-link" href="#r-asm.operand-type.global_asm-restriction" title="asm.operand-type.global_asm-restriction"><span>[asm<wbr>.operand-type<wbr>.global_asm-restriction]</span></a>
</div>

<p>Because <code>global_asm!</code> exists outside a function, it can only use <code>sym</code> and <code>const</code> operands.</p>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">fn main() {}
</span>// 함수 내부에 있지 않으므로 레지스터 피연산자는 허용되지 않습니다.
<span class="boring">#[cfg(target_arch = "x86_64")]
</span>core::arch::global_asm!("", in(reg) 5);
// 오류: `in` 피연산자는 `global_asm!` 과 함께 사용될 수 없습니다.
<span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");</span></code></pre>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">fn main() {}
</span>fn foo() {}

<span class="boring">#[cfg(target_arch = "x86_64")]
</span>// 하지만 `const` 와 `sym` 은 모두 허용됩니다.
core::arch::global_asm!("/* {} {} */", const 0, sym foo);</code></pre>
<div class="rule" id="r-asm.register-operands"><a class="rule-link" href="#r-asm.register-operands" title="asm.register-operands"><span>[asm<wbr>.register-operands]</span></a>
</div>

<h2 id="레지스터-피연산자"><a class="header" href="#레지스터-피연산자">레지스터 피연산자</a></h2>
<div class="rule" id="r-asm.register-operands.register-or-class"><a class="rule-link" href="#r-asm.register-operands.register-or-class" title="asm.register-operands.register-or-class"><span>[asm<wbr>.register-operands<wbr>.register-or-class]</span></a>
</div>

<p>입력 및 출력 피연산자는 명시적 레지스터로 지정하거나, 레지스터 할당기가 레지스터를 선택할 수 있는 레지스터 클래스로 지정할 수 있습니다. 명시적 레지스터는 문자열 리터럴(예: <code>"eax"</code>)로 지정되며, 레지스터 클래스는 식별자(예: <code>reg</code>)로 지정됩니다.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let mut y: i64;
// `reg` 또는 `eax` 와 같은 명시적 레지스터를 지정하여 정수 레지스터를 얻을 수 있습니다.
unsafe { core::arch::asm!("mov eax, {:e}", in(reg) 5, lateout("eax") y); }
assert_eq!(y, 5);
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.register-operands.equivalence-to-base-register"><a class="rule-link" href="#r-asm.register-operands.equivalence-to-base-register" title="asm.register-operands.equivalence-to-base-register"><span>[asm<wbr>.register-operands<wbr>.equivalence-to-base-register]</span></a>
</div>

<p>명시적 레지스터는 레지스터 별칭(예: ARM의 <code>r14</code> 대 <code>lr</code>) 및 레지스터의 더 작은 뷰(예: <code>eax</code> 대 <code>rax</code>)를 베이스 레지스터와 동일하게 취급함에 유의하십시오.</p>
<div class="rule" id="r-asm.register-operands.error-two-operands"><a class="rule-link" href="#r-asm.register-operands.error-two-operands" title="asm.register-operands.error-two-operands"><span>[asm<wbr>.register-operands<wbr>.error-two-operands]</span></a>
</div>

<p>두 개의 입력 피연산자 또는 두 개의 출력 피연산자에 동일한 명시적 레지스터를 사용하는 것은 컴파일 타임 오류입니다.</p>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>// eax를 두 번 지정할 수 없습니다.
unsafe { core::arch::asm!("", in("eax") 5, in("eax") 4); }
// 오류: `eax` 레지스터가 `eax` 레지스터와 충돌합니다.
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");
</span><span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>// ... 서로 다른 별칭을 사용하더라도 마찬가지입니다.
unsafe { core::arch::asm!("", in("ax") 5, in("rax") 4); }
// 오류: `rax` 레지스터가 `ax` 레지스터와 충돌합니다.
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.register-operands.error-overlapping"><a class="rule-link" href="#r-asm.register-operands.error-overlapping" title="asm.register-operands.error-overlapping"><span>[asm<wbr>.register-operands<wbr>.error-overlapping]</span></a>
</div>

<p>또한, 입력 피연산자 또는 출력 피연산자에서 겹치는 레지스터(예: ARM VFP)를 사용하는 것도 컴파일 타임 오류입니다.</p>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>// al은 ax와 겹치므로 둘 다 지정할 수 없습니다.
unsafe { core::arch::asm!("", in("ax") 5, in("al") 4i8); }
// 오류: `al` 레지스터가 `ax` 레지스터와 충돌합니다.
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.register-operands.allowed-types"><a class="rule-link" href="#r-asm.register-operands.allowed-types" title="asm.register-operands.allowed-types"><span>[asm<wbr>.register-operands<wbr>.allowed-types]</span></a>
</div>

<p>인라인 어셈블리의 피연산자로는 다음 타입들만 허용됩니다:</p>
<ul>
<li>정수 (부호 있는 것과 부호 없는 것)</li>
<li>부동 소수점 숫자</li>
<li>포인터 (thin 포인터만)</li>
<li>함수 포인터</li>
<li>SIMD 벡터 (<code>#[repr(simd)]</code> 로 정의되고 <code>Copy</code> 를 구현하는 구조체). 이는 <code>std::arch</code> 에 정의된 아키텍처별 벡터 타입(예: x86의 <code>__m128</code> 또는 ARM의 <code>int8x16_t</code>)을 포함합니다.</li>
</ul>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>extern "C" fn foo() {}

// 정수는 허용됩니다...
let y: i64 = 5;
unsafe { core::arch::asm!("/* {} */", in(reg) y); }

// 포인터도 허용되며...
let py = &amp;raw const y;
unsafe { core::arch::asm!("/* {} */", in(reg) py); }

// 부동 소수점 역시 허용됩니다...
let f = 1.0f32;
unsafe { core::arch::asm!("/* {} */", in(xmm_reg) f); }

// 함수 포인터와 simd 벡터까지도 허용됩니다.
let func: extern "C" fn() = foo;
unsafe { core::arch::asm!("/* {} */", in(reg) func); }

let z = unsafe { core::arch::x86_64::_mm_set_epi64x(1, 0) };
unsafe { core::arch::asm!("/* {} */", in(xmm_reg) z); }
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>struct Foo;
let x: Foo = Foo;
// 구조체와 같은 복합 타입은 허용되지 않습니다.
unsafe { core::arch::asm!("/* {} */", in(reg) x); }
// 오류: 인라인 어셈블리에 `Foo` 타입의 값을 사용할 수 없습니다.
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.register-operands.supported-register-classes"><a class="rule-link" href="#r-asm.register-operands.supported-register-classes" title="asm.register-operands.supported-register-classes"><span>[asm<wbr>.register-operands<wbr>.supported-register-classes]</span></a>
</div>

<p>현재 지원되는 레지스터 클래스 목록입니다:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>아키텍처</th><th>레지스터 클래스</th><th>레지스터</th><th>LLVM 제약 코드</th></tr>
</thead>
<tbody>
<tr><td>x86</td><td><code>reg</code></td><td><code>ax</code>, <code>bx</code>, <code>cx</code>, <code>dx</code>, <code>si</code>, <code>di</code>, <code>bp</code>, <code>r[8-15]</code> (x86-64 전용)</td><td><code>r</code></td></tr>
<tr><td>x86</td><td><code>reg_abcd</code></td><td><code>ax</code>, <code>bx</code>, <code>cx</code>, <code>dx</code></td><td><code>Q</code></td></tr>
<tr><td>x86-32</td><td><code>reg_byte</code></td><td><code>al</code>, <code>bl</code>, <code>cl</code>, <code>dl</code>, <code>ah</code>, <code>bh</code>, <code>ch</code>, <code>dh</code></td><td><code>q</code></td></tr>
<tr><td>x86-64</td><td><code>reg_byte</code>*</td><td><code>al</code>, <code>bl</code>, <code>cl</code>, <code>dl</code>, <code>sil</code>, <code>dil</code>, <code>bpl</code>, <code>r[8-15]b</code></td><td><code>q</code></td></tr>
<tr><td>x86</td><td><code>xmm_reg</code></td><td><code>xmm[0-7]</code> (x86) <code>xmm[0-15]</code> (x86-64)</td><td><code>x</code></td></tr>
<tr><td>x86</td><td><code>ymm_reg</code></td><td><code>ymm[0-7]</code> (x86) <code>ymm[0-15]</code> (x86-64)</td><td><code>x</code></td></tr>
<tr><td>x86</td><td><code>zmm_reg</code></td><td><code>zmm[0-7]</code> (x86) <code>zmm[0-31]</code> (x86-64)</td><td><code>v</code></td></tr>
<tr><td>x86</td><td><code>kreg</code></td><td><code>k[1-7]</code></td><td><code>Yk</code></td></tr>
<tr><td>x86</td><td><code>kreg0</code></td><td><code>k0</code></td><td>클로버(clobbers) 전용</td></tr>
<tr><td>x86</td><td><code>x87_reg</code></td><td><code>st([0-7])</code></td><td>클로버(clobbers) 전용</td></tr>
<tr><td>x86</td><td><code>mmx_reg</code></td><td><code>mm[0-7]</code></td><td>클로버(clobbers) 전용</td></tr>
<tr><td>x86-64</td><td><code>tmm_reg</code></td><td><code>tmm[0-7]</code></td><td>클로버(clobbers) 전용</td></tr>
<tr><td>AArch64</td><td><code>reg</code></td><td><code>x[0-30]</code></td><td><code>r</code></td></tr>
<tr><td>AArch64</td><td><code>vreg</code></td><td><code>v[0-31]</code></td><td><code>w</code></td></tr>
<tr><td>AArch64</td><td><code>vreg_low16</code></td><td><code>v[0-15]</code></td><td><code>x</code></td></tr>
<tr><td>AArch64</td><td><code>preg</code></td><td><code>p[0-15]</code>, <code>ffr</code></td><td>클로버(clobbers) 전용</td></tr>
<tr><td>Arm64EC</td><td><code>reg</code></td><td><code>x[0-12]</code>, <code>x[15-22]</code>, <code>x[25-27]</code>, <code>x30</code></td><td><code>r</code></td></tr>
<tr><td>Arm64EC</td><td><code>vreg</code></td><td><code>v[0-15]</code></td><td><code>w</code></td></tr>
<tr><td>Arm64EC</td><td><code>vreg_low16</code></td><td><code>v[0-15]</code></td><td><code>x</code></td></tr>
<tr><td>ARM (ARM/Thumb2)</td><td><code>reg</code></td><td><code>r[0-12]</code>, <code>r14</code></td><td><code>r</code></td></tr>
<tr><td>ARM (Thumb1)</td><td><code>reg</code></td><td><code>r[0-7]</code></td><td><code>r</code></td></tr>
<tr><td>ARM</td><td><code>sreg</code></td><td><code>s[0-31]</code></td><td><code>t</code></td></tr>
<tr><td>ARM</td><td><code>sreg_low16</code></td><td><code>s[0-15]</code></td><td><code>x</code></td></tr>
<tr><td>ARM</td><td><code>dreg</code></td><td><code>d[0-31]</code></td><td><code>w</code></td></tr>
<tr><td>ARM</td><td><code>dreg_low16</code></td><td><code>d[0-15]</code></td><td><code>t</code></td></tr>
<tr><td>ARM</td><td><code>dreg_low8</code></td><td><code>d[0-8]</code></td><td><code>x</code></td></tr>
<tr><td>ARM</td><td><code>qreg</code></td><td><code>q[0-15]</code></td><td><code>w</code></td></tr>
<tr><td>ARM</td><td><code>qreg_low8</code></td><td><code>q[0-7]</code></td><td><code>t</code></td></tr>
<tr><td>ARM</td><td><code>qreg_low4</code></td><td><code>q[0-3]</code></td><td><code>x</code></td></tr>
<tr><td>RISC-V</td><td><code>reg</code></td><td><code>x1</code>, <code>x[5-7]</code>, <code>x[9-15]</code>, <code>x[16-31]</code> (non-RV32E)</td><td><code>r</code></td></tr>
<tr><td>RISC-V</td><td><code>freg</code></td><td><code>f[0-31]</code></td><td><code>f</code></td></tr>
<tr><td>RISC-V</td><td><code>vreg</code></td><td><code>v[0-31]</code></td><td>클로버(clobbers) 전용</td></tr>
<tr><td>LoongArch</td><td><code>reg</code></td><td><code>$r1</code>, <code>$r[4-20]</code>, <code>$r[23,30]</code></td><td><code>r</code></td></tr>
<tr><td>LoongArch</td><td><code>freg</code></td><td><code>$f[0-31]</code></td><td><code>f</code></td></tr>
<tr><td>s390x</td><td><code>reg</code></td><td><code>r[0-10]</code>, <code>r[12-14]</code></td><td><code>r</code></td></tr>
<tr><td>s390x</td><td><code>reg_addr</code></td><td><code>r[1-10]</code>, <code>r[12-14]</code></td><td><code>a</code></td></tr>
<tr><td>s390x</td><td><code>freg</code></td><td><code>f[0-15]</code></td><td><code>f</code></td></tr>
<tr><td>s390x</td><td><code>vreg</code></td><td><code>v[0-31]</code></td><td>클로버(clobbers) 전용</td></tr>
<tr><td>s390x</td><td><code>areg</code></td><td><code>a[2-15]</code></td><td>클로버(clobbers) 전용</td></tr>
<tr><td>PowerPC</td><td><code>reg</code></td><td><code>r0</code>, <code>r[3-12]</code>, <code>r[14-28]</code></td><td><code>r</code></td></tr>
<tr><td>PowerPC</td><td><code>reg_nonzero</code></td><td><code>r[3-12]</code>, <code>r[14-28]</code></td><td><code>b</code></td></tr>
<tr><td>PowerPC</td><td><code>spe_acc</code></td><td><code>spe_acc</code></td><td>클로버(clobbers) 전용</td></tr>
<tr><td>PowerPC64</td><td><code>reg</code></td><td><code>r0</code>, <code>r[3-12]</code>, <code>r[14-29]</code></td><td><code>r</code></td></tr>
<tr><td>PowerPC64</td><td><code>reg_nonzero</code></td><td><code>r[3-12]</code>, <code>r[14-29]</code></td><td><code>b</code></td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>freg</code></td><td><code>f[0-31]</code></td><td><code>f</code></td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>vreg</code></td><td><code>v[0-31]</code></td><td><code>v</code></td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>vsreg</code></td><td><code>vs[0-63]</code></td><td><code>wa</code></td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>cr</code></td><td><code>cr[0-7]</code>, <code>cr</code></td><td>클로버(clobbers) 전용</td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>ctr</code></td><td><code>ctr</code></td><td>클로버(clobbers) 전용</td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>lr</code></td><td><code>lr</code></td><td>클로버(clobbers) 전용</td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>xer</code></td><td><code>xer</code></td><td>클로버(clobbers) 전용</td></tr>
</tbody>
</table>
</div>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>

<ul>
<li>x86에서 <code>reg_byte</code> 는 <code>reg</code> 와 다르게 취급됩니다. 그 이유는 컴파일러가 <code>al</code> 과 <code>ah</code> 를 별도로 할당할 수 있는 반면, <code>reg</code> 는 레지스터 전체를 예약하기 때문입니다.</li>
<li>x86-64에서 고위 바이트 레지스터(예: <code>ah</code>)는 <code>reg_byte</code> 레지스터 클래스에서 사용할 수 없습니다.</li>
<li>일부 레지스터 클래스는 “클로버 전용(Only clobbers)“으로 표시되어 있습니다. 이는 해당 클래스의 레지스터를 입력이나 출력에 사용할 수 없으며, 오직 <code>out(&lt;explicit register&gt;) _</code> 또는 <code>lateout(&lt;explicit register&gt;) _</code> 형식의 클로버로만 사용할 수 있음을 의미합니다.</li>
<li>The <code>spe_acc</code> register is only available on PowerPC SPE targets.</li>
</ul>
</blockquote>
</div>

<div class="rule" id="r-asm.register-operands.value-type-constraints"><a class="rule-link" href="#r-asm.register-operands.value-type-constraints" title="asm.register-operands.value-type-constraints"><span>[asm<wbr>.register-operands<wbr>.value-type-constraints]</span></a>
</div>

<p>각 레지스터 클래스는 사용할 수 있는 값의 타입에 대한 제약 조건을 가집니다. 이는 값이 레지스터에 로드되는 방식이 타입에 따라 다르기 때문에 필요합니다. 예를 들어, 빅 엔디안(big-endian) 시스템에서 <code>i32x4</code> 와 <code>i8x16</code> 을 SIMD 레지스터에 로드하면, 두 값의 바이트 단위 메모리 표현이 동일하더라도 레지스터의 내용은 서로 다를 수 있습니다. 특정 레지스터 클래스에서 지원되는 타입의 가용 여부는 현재 활성화된 타겟 기능(target features)에 따라 달라질 수 있습니다.</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>아키텍처</th><th>레지스터 클래스</th><th>타겟 기능</th><th>허용되는 타입</th></tr>
</thead>
<tbody>
<tr><td>x86-32</td><td><code>reg</code></td><td>없음</td><td><code>i16</code>, <code>i32</code>, <code>f32</code></td></tr>
<tr><td>x86-64</td><td><code>reg</code></td><td>없음</td><td><code>i16</code>, <code>i32</code>, <code>f32</code>, <code>i64</code>, <code>f64</code></td></tr>
<tr><td>x86</td><td><code>reg_byte</code></td><td>없음</td><td><code>i8</code></td></tr>
<tr><td>x86</td><td><code>xmm_reg</code></td><td><code>sse</code></td><td><code>i32</code>, <code>f32</code>, <code>i64</code>, <code>f64</code>, <br> <code>i8x16</code>, <code>i16x8</code>, <code>i32x4</code>, <code>i64x2</code>, <code>f32x4</code>, <code>f64x2</code></td></tr>
<tr><td>x86</td><td><code>ymm_reg</code></td><td><code>avx</code></td><td><code>i32</code>, <code>f32</code>, <code>i64</code>, <code>f64</code>, <br> <code>i8x16</code>, <code>i16x8</code>, <code>i32x4</code>, <code>i64x2</code>, <code>f32x4</code>, <code>f64x2</code> <br> <code>i8x32</code>, <code>i16x16</code>, <code>i32x8</code>, <code>i64x4</code>, <code>f32x8</code>, <code>f64x4</code></td></tr>
<tr><td>x86</td><td><code>zmm_reg</code></td><td><code>avx512f</code></td><td><code>i32</code>, <code>f32</code>, <code>i64</code>, <code>f64</code>, <br> <code>i8x16</code>, <code>i16x8</code>, <code>i32x4</code>, <code>i64x2</code>, <code>f32x4</code>, <code>f64x2</code> <br> <code>i8x32</code>, <code>i16x16</code>, <code>i32x8</code>, <code>i64x4</code>, <code>f32x8</code>, <code>f64x4</code> <br> <code>i8x64</code>, <code>i16x32</code>, <code>i32x16</code>, <code>i64x8</code>, <code>f32x16</code>, <code>f64x8</code></td></tr>
<tr><td>x86</td><td><code>kreg</code></td><td><code>avx512f</code></td><td><code>i8</code>, <code>i16</code></td></tr>
<tr><td>x86</td><td><code>kreg</code></td><td><code>avx512bw</code></td><td><code>i32</code>, <code>i64</code></td></tr>
<tr><td>x86</td><td><code>mmx_reg</code></td><td>해당 없음 (N/A)</td><td>클로버(clobbers) 전용</td></tr>
<tr><td>x86</td><td><code>x87_reg</code></td><td>해당 없음 (N/A)</td><td>클로버(clobbers) 전용</td></tr>
<tr><td>x86</td><td><code>tmm_reg</code></td><td>해당 없음 (N/A)</td><td>클로버(clobbers) 전용</td></tr>
<tr><td>AArch64</td><td><code>reg</code></td><td>없음</td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>f32</code>, <code>i64</code>, <code>f64</code></td></tr>
<tr><td>AArch64</td><td><code>vreg</code></td><td><code>neon</code></td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>f32</code>, <code>i64</code>, <code>f64</code>, <br> <code>i8x8</code>, <code>i16x4</code>, <code>i32x2</code>, <code>i64x1</code>, <code>f32x2</code>, <code>f64x1</code>, <br> <code>i8x16</code>, <code>i16x8</code>, <code>i32x4</code>, <code>i64x2</code>, <code>f32x4</code>, <code>f64x2</code></td></tr>
<tr><td>AArch64</td><td><code>preg</code></td><td>해당 없음 (N/A)</td><td>클로버(clobbers) 전용</td></tr>
<tr><td>Arm64EC</td><td><code>reg</code></td><td>없음</td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>f32</code>, <code>i64</code>, <code>f64</code></td></tr>
<tr><td>Arm64EC</td><td><code>vreg</code></td><td><code>neon</code></td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>f32</code>, <code>i64</code>, <code>f64</code>, <br> <code>i8x8</code>, <code>i16x4</code>, <code>i32x2</code>, <code>i64x1</code>, <code>f32x2</code>, <code>f64x1</code>, <br> <code>i8x16</code>, <code>i16x8</code>, <code>i32x4</code>, <code>i64x2</code>, <code>f32x4</code>, <code>f64x2</code></td></tr>
<tr><td>ARM</td><td><code>reg</code></td><td>없음</td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>f32</code></td></tr>
<tr><td>ARM</td><td><code>sreg</code></td><td><code>vfp2</code></td><td><code>i32</code>, <code>f32</code></td></tr>
<tr><td>ARM</td><td><code>dreg</code></td><td><code>vfp2</code></td><td><code>i64</code>, <code>f64</code>, <code>i8x8</code>, <code>i16x4</code>, <code>i32x2</code>, <code>i64x1</code>, <code>f32x2</code></td></tr>
<tr><td>ARM</td><td><code>qreg</code></td><td><code>neon</code></td><td><code>i8x16</code>, <code>i16x8</code>, <code>i32x4</code>, <code>i64x2</code>, <code>f32x4</code></td></tr>
<tr><td>RISC-V32</td><td><code>reg</code></td><td>없음</td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>f32</code></td></tr>
<tr><td>RISC-V64</td><td><code>reg</code></td><td>없음</td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>f32</code>, <code>i64</code>, <code>f64</code></td></tr>
<tr><td>RISC-V</td><td><code>freg</code></td><td><code>f</code></td><td><code>f32</code></td></tr>
<tr><td>RISC-V</td><td><code>freg</code></td><td><code>d</code></td><td><code>f64</code></td></tr>
<tr><td>RISC-V</td><td><code>vreg</code></td><td>해당 없음 (N/A)</td><td>클로버(clobbers) 전용</td></tr>
<tr><td>LoongArch32</td><td><code>reg</code></td><td>없음</td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>f32</code></td></tr>
<tr><td>LoongArch64</td><td><code>reg</code></td><td>없음</td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>i64</code>, <code>f32</code>, <code>f64</code></td></tr>
<tr><td>LoongArch</td><td><code>freg</code></td><td><code>f</code></td><td><code>f32</code></td></tr>
<tr><td>LoongArch</td><td><code>freg</code></td><td><code>d</code></td><td><code>f64</code></td></tr>
<tr><td>s390x</td><td><code>reg</code>, <code>reg_addr</code></td><td>없음</td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>i64</code></td></tr>
<tr><td>s390x</td><td><code>freg</code></td><td>없음</td><td><code>f32</code>, <code>f64</code></td></tr>
<tr><td>s390x</td><td><code>vreg</code></td><td>해당 없음 (N/A)</td><td>클로버(clobbers) 전용</td></tr>
<tr><td>s390x</td><td><code>areg</code></td><td>해당 없음 (N/A)</td><td>클로버(clobbers) 전용</td></tr>
<tr><td>PowerPC</td><td><code>spe_acc</code></td><td>없음</td><td>클로버(clobbers) 전용</td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>reg</code></td><td>없음</td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>i64</code> (PowerPC64 only)</td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>reg_nonzero</code></td><td>없음</td><td><code>i8</code>, <code>i16</code>, <code>i32</code>, <code>i64</code> (PowerPC64 only)</td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>freg</code></td><td>없음</td><td><code>f32</code>, <code>f64</code></td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>vreg</code></td><td><code>altivec</code></td><td><code>i8x16</code>, <code>i16x8</code>, <code>i32x4</code>, <code>f32x4</code></td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>vreg</code></td><td><code>vsx</code></td><td><code>f32</code>, <code>f64</code>, <code>i64x2</code>, <code>f64x2</code></td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>vsreg</code></td><td><code>vsx</code></td><td>The union of vsx and altivec vreg types</td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>cr</code></td><td>없음</td><td>클로버(clobbers) 전용</td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>ctr</code></td><td>없음</td><td>클로버(clobbers) 전용</td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>lr</code></td><td>없음</td><td>클로버(clobbers) 전용</td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>xer</code></td><td>없음</td><td>클로버(clobbers) 전용</td></tr>
</tbody>
</table>
</div>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>

<p>For the purposes of the above table pointers, function pointers and <code>isize</code>/<code>usize</code> are treated as the equivalent integer type (<code>i16</code>/<code>i32</code>/<code>i64</code> depending on the target).</p>
</blockquote>
</div>

<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let x = 5i32;
let y = -1i8;
let z = unsafe { core::arch::x86_64::_mm_set_epi64x(1, 0) };

// `reg` 는 `i32` 에 유효하고, `reg_byte` 는 `i8` 에 유효하며, `xmm_reg` 는 `__m128i` 에 유효합니다.
// `tmm0` 는 입력이나 출력으로 사용할 수 없지만, 클로버(clobber)할 수는 있습니다.
unsafe { core::arch::asm!("/* {} {} {} */", in(reg) x, in(reg_byte) y, in(xmm_reg) z, out("tmm0") _); }
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let z = unsafe { core::arch::x86_64::_mm_set_epi64x(1, 0) };
// `__m128i` 를 `reg` 입력으로 전달할 수 없습니다.
unsafe { core::arch::asm!("/* {} */", in(reg) z); }
// 오류: `__m128i` 타입은 이 레지스터 클래스에 사용할 수 없습니다.
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.register-operands.smaller-value"><a class="rule-link" href="#r-asm.register-operands.smaller-value" title="asm.register-operands.smaller-value"><span>[asm<wbr>.register-operands<wbr>.smaller-value]</span></a>
</div>

<p>만약 할당된 레지스터보다 값의 크기가 작다면, 해당 레지스터의 상위 비트들은 입력 시 정의되지 않은(undefined) 값을 갖게 되며 출력 시에는 무시됩니다. 유일한 예외는 RISC-V의 <code>freg</code> 레지스터 클래스로, RISC-V 아키텍처의 요구 사항에 따라 <code>f32</code> 값은 <code>f64</code> 내에 NaN-boxed 됩니다.</p>
<!--no_run, this test has a non-deterministic runtime behavior-->
<pre class="playground"><code class="language-rust no_run edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let mut x: i64;
// 32비트 값을 64비트 값으로 옮기기, 이런.
#[allow(asm_sub_register)] // rustc는 이 동작에 대해 경고합니다.
unsafe { core::arch::asm!("mov {}, {}", lateout(reg) x, in(reg) 4i32); }
// 상위 32비트는 불확정적입니다.
assert_eq!(x, 4); // 이 단언(assertion)은 성공이 보장되지 않습니다.
assert_eq!(x &amp; 0xFFFFFFFF, 4); // 하지만 이것은 성공할 것입니다.
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.register-operands.separate-input-output"><a class="rule-link" href="#r-asm.register-operands.separate-input-output" title="asm.register-operands.separate-input-output"><span>[asm<wbr>.register-operands<wbr>.separate-input-output]</span></a>
</div>

<p><code>inout</code> 피연산자에 대해 별도의 입력 및 출력 표현식이 지정된 경우, 두 표현식은 반드시 동일한 타입을 가져야 합니다. 유일한 예외는 두 피연산자가 모두 포인터이거나 정수인 경우로, 이 경우에는 크기만 같으면 됩니다. 이 제한은 LLVM 및 GCC의 레지스터 할당기가 서로 다른 타입을 가진 묶인(tied) 피연산자를 처리하지 못하는 경우가 있기 때문에 존재합니다.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>// 포인터와 정수는 (크기가 같다면) 혼용될 수 있습니다.
let x: isize = 0;
let y: *mut ();
// 인라인 어셈블리의 마법을 사용하여 `isize` 를 `*mut ()` 로 변환(transmute)합니다.
unsafe { core::arch::asm!("/*{}*/", inout(reg) x=&gt;y); }
assert!(y.is_null()); // 널 포인터를 만드는 지극히 우회적인 방법
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let x: i32 = 0;
let y: f32;
// 하지만 이런 식으로 `i32` 를 `f32` 로 재해석할 수는 없습니다.
unsafe { core::arch::asm!("/* {} */", inout(reg) x=&gt;y); }
// 오류: asm inout 인자의 타입이 호환되지 않습니다.
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.register-names"><a class="rule-link" href="#r-asm.register-names" title="asm.register-names"><span>[asm<wbr>.register-names]</span></a>
</div>

<h2 id="레지스터-이름"><a class="header" href="#레지스터-이름">레지스터 이름</a></h2>
<div class="rule" id="r-asm.register-names.supported-register-aliases"><a class="rule-link" href="#r-asm.register-names.supported-register-aliases" title="asm.register-names.supported-register-aliases"><span>[asm<wbr>.register-names<wbr>.supported-register-aliases]</span></a>
</div>

<p>일부 레지스터는 여러 개의 이름을 가집니다. 이들은 모두 컴파일러에 의해 기본 레지스터 이름과 동일하게 취급됩니다. 다음은 지원되는 모든 레지스터 별칭 목록입니다.</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>아키텍처</th><th>기본 레지스터</th><th>별칭</th></tr>
</thead>
<tbody>
<tr><td>x86</td><td><code>ax</code></td><td><code>eax</code>, <code>rax</code></td></tr>
<tr><td>x86</td><td><code>bx</code></td><td><code>ebx</code>, <code>rbx</code></td></tr>
<tr><td>x86</td><td><code>cx</code></td><td><code>ecx</code>, <code>rcx</code></td></tr>
<tr><td>x86</td><td><code>dx</code></td><td><code>edx</code>, <code>rdx</code></td></tr>
<tr><td>x86</td><td><code>si</code></td><td><code>esi</code>, <code>rsi</code></td></tr>
<tr><td>x86</td><td><code>di</code></td><td><code>edi</code>, <code>rdi</code></td></tr>
<tr><td>x86</td><td><code>bp</code></td><td><code>bpl</code>, <code>ebp</code>, <code>rbp</code></td></tr>
<tr><td>x86</td><td><code>sp</code></td><td><code>spl</code>, <code>esp</code>, <code>rsp</code></td></tr>
<tr><td>x86</td><td><code>ip</code></td><td><code>eip</code>, <code>rip</code></td></tr>
<tr><td>x86</td><td><code>st(0)</code></td><td><code>st</code></td></tr>
<tr><td>x86</td><td><code>r[8-15]</code></td><td><code>r[8-15]b</code>, <code>r[8-15]w</code>, <code>r[8-15]d</code></td></tr>
<tr><td>x86</td><td><code>xmm[0-31]</code></td><td><code>ymm[0-31]</code>, <code>zmm[0-31]</code></td></tr>
<tr><td>AArch64</td><td><code>x[0-30]</code></td><td><code>w[0-30]</code></td></tr>
<tr><td>AArch64</td><td><code>x29</code></td><td><code>fp</code></td></tr>
<tr><td>AArch64</td><td><code>x30</code></td><td><code>lr</code></td></tr>
<tr><td>AArch64</td><td><code>sp</code></td><td><code>wsp</code></td></tr>
<tr><td>AArch64</td><td><code>xzr</code></td><td><code>wzr</code></td></tr>
<tr><td>AArch64</td><td><code>v[0-31]</code></td><td><code>b[0-31]</code>, <code>h[0-31]</code>, <code>s[0-31]</code>, <code>d[0-31]</code>, <code>q[0-31]</code></td></tr>
<tr><td>Arm64EC</td><td><code>x[0-30]</code></td><td><code>w[0-30]</code></td></tr>
<tr><td>Arm64EC</td><td><code>x29</code></td><td><code>fp</code></td></tr>
<tr><td>Arm64EC</td><td><code>x30</code></td><td><code>lr</code></td></tr>
<tr><td>Arm64EC</td><td><code>sp</code></td><td><code>wsp</code></td></tr>
<tr><td>Arm64EC</td><td><code>xzr</code></td><td><code>wzr</code></td></tr>
<tr><td>Arm64EC</td><td><code>v[0-15]</code></td><td><code>b[0-15]</code>, <code>h[0-15]</code>, <code>s[0-15]</code>, <code>d[0-15]</code>, <code>q[0-15]</code></td></tr>
<tr><td>ARM</td><td><code>r[0-3]</code></td><td><code>a[1-4]</code></td></tr>
<tr><td>ARM</td><td><code>r[4-9]</code></td><td><code>v[1-6]</code></td></tr>
<tr><td>ARM</td><td><code>r9</code></td><td><code>rfp</code></td></tr>
<tr><td>ARM</td><td><code>r10</code></td><td><code>sl</code></td></tr>
<tr><td>ARM</td><td><code>r11</code></td><td><code>fp</code></td></tr>
<tr><td>ARM</td><td><code>r12</code></td><td><code>ip</code></td></tr>
<tr><td>ARM</td><td><code>r13</code></td><td><code>sp</code></td></tr>
<tr><td>ARM</td><td><code>r14</code></td><td><code>lr</code></td></tr>
<tr><td>ARM</td><td><code>r15</code></td><td><code>pc</code></td></tr>
<tr><td>RISC-V</td><td><code>x0</code></td><td><code>zero</code></td></tr>
<tr><td>RISC-V</td><td><code>x1</code></td><td><code>ra</code></td></tr>
<tr><td>RISC-V</td><td><code>x2</code></td><td><code>sp</code></td></tr>
<tr><td>RISC-V</td><td><code>x3</code></td><td><code>gp</code></td></tr>
<tr><td>RISC-V</td><td><code>x4</code></td><td><code>tp</code></td></tr>
<tr><td>RISC-V</td><td><code>x[5-7]</code></td><td><code>t[0-2]</code></td></tr>
<tr><td>RISC-V</td><td><code>x8</code></td><td><code>fp</code>, <code>s0</code></td></tr>
<tr><td>RISC-V</td><td><code>x9</code></td><td><code>s1</code></td></tr>
<tr><td>RISC-V</td><td><code>x[10-17]</code></td><td><code>a[0-7]</code></td></tr>
<tr><td>RISC-V</td><td><code>x[18-27]</code></td><td><code>s[2-11]</code></td></tr>
<tr><td>RISC-V</td><td><code>x[28-31]</code></td><td><code>t[3-6]</code></td></tr>
<tr><td>RISC-V</td><td><code>f[0-7]</code></td><td><code>ft[0-7]</code></td></tr>
<tr><td>RISC-V</td><td><code>f[8-9]</code></td><td><code>fs[0-1]</code></td></tr>
<tr><td>RISC-V</td><td><code>f[10-17]</code></td><td><code>fa[0-7]</code></td></tr>
<tr><td>RISC-V</td><td><code>f[18-27]</code></td><td><code>fs[2-11]</code></td></tr>
<tr><td>RISC-V</td><td><code>f[28-31]</code></td><td><code>ft[8-11]</code></td></tr>
<tr><td>LoongArch</td><td><code>$r0</code></td><td><code>$zero</code></td></tr>
<tr><td>LoongArch</td><td><code>$r1</code></td><td><code>$ra</code></td></tr>
<tr><td>LoongArch</td><td><code>$r2</code></td><td><code>$tp</code></td></tr>
<tr><td>LoongArch</td><td><code>$r3</code></td><td><code>$sp</code></td></tr>
<tr><td>LoongArch</td><td><code>$r[4-11]</code></td><td><code>$a[0-7]</code></td></tr>
<tr><td>LoongArch</td><td><code>$r[12-20]</code></td><td><code>$t[0-8]</code></td></tr>
<tr><td>LoongArch</td><td><code>$r21</code></td><td></td></tr>
<tr><td>LoongArch</td><td><code>$r22</code></td><td><code>$fp</code>, <code>$s9</code></td></tr>
<tr><td>LoongArch</td><td><code>$r[23-31]</code></td><td><code>$s[0-8]</code></td></tr>
<tr><td>LoongArch</td><td><code>$f[0-7]</code></td><td><code>$fa[0-7]</code></td></tr>
<tr><td>LoongArch</td><td><code>$f[8-23]</code></td><td><code>$ft[0-15]</code></td></tr>
<tr><td>LoongArch</td><td><code>$f[24-31]</code></td><td><code>$fs[0-7]</code></td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>r1</code></td><td><code>sp</code></td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>r31</code></td><td><code>fp</code></td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>r[0-31]</code></td><td><code>[0-31]</code></td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>f[0-31]</code></td><td><code>fr[0-31]</code></td></tr>
</tbody>
</table>
</div>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let z = 0i64;
// rax는 eax 및 ax의 별칭입니다.
unsafe { core::arch::asm!("", in("rax") z); }
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.register-names.not-for-io"><a class="rule-link" href="#r-asm.register-names.not-for-io" title="asm.register-names.not-for-io"><span>[asm<wbr>.register-names<wbr>.not-for-io]</span></a>
</div>

<p>일부 레지스터는 입력 또는 출력 피연산자로 사용할 수 없습니다.</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>아키텍처</th><th>지원되지 않는 레지스터</th><th>이유</th></tr>
</thead>
<tbody>
<tr><td>모두</td><td><code>sp</code>, <code>r15</code> (s390x), <code>r1</code> (PowerPC and PowerPC64)</td><td>The stack pointer must be restored to its original value at the end of the assembly code or before jumping to a <code>label</code> block.</td></tr>
<tr><td>모두</td><td><code>bp</code> (x86), <code>x29</code> (AArch64 and Arm64EC), <code>x8</code> (RISC-V), <code>$fp</code> (LoongArch), <code>r11</code> (s390x), <code>fp</code> (PowerPC and PowerPC64)</td><td>프레임 포인터(fp)는 입력 또는 출력으로 사용할 수 없습니다.</td></tr>
<tr><td>ARM</td><td><code>r7</code> 또는 <code>r11</code></td><td>ARM에서 프레임 포인터는 타겟에 따라 <code>r7</code> 또는 <code>r11</code> 이 될 수 있습니다. 프레임 포인터는 입력 또는 출력으로 사용할 수 없습니다.</td></tr>
<tr><td>모두</td><td><code>si</code> (x86-32), <code>bx</code> (x86-64), <code>r6</code> (ARM), <code>x19</code> (AArch64 and Arm64EC), <code>x9</code> (RISC-V), <code>$s8</code> (LoongArch), <code>r29</code> and <code>r30</code> (PowerPC), <code>r30</code> (PowerPC64)</td><td>이는 복잡한 스택 프레임을 가진 함수를 위해 LLVM에서 내부적으로 “베이스 포인터“로 사용됩니다.</td></tr>
<tr><td>x86</td><td><code>ip</code></td><td>이것은 프로그램 카운터(pc)이며, 실제 레지스터가 아닙니다.</td></tr>
<tr><td>AArch64</td><td><code>xzr</code></td><td>이것은 수정할 수 없는 상수 제로 레지스터입니다.</td></tr>
<tr><td>AArch64</td><td><code>x18</code></td><td>이는 일부 AArch64 타겟에서 OS가 예약한 레지스터입니다.</td></tr>
<tr><td>Arm64EC</td><td><code>xzr</code></td><td>이것은 수정할 수 없는 상수 제로 레지스터입니다.</td></tr>
<tr><td>Arm64EC</td><td><code>x18</code></td><td>이것은 OS가 예약한 레지스터입니다.</td></tr>
<tr><td>Arm64EC</td><td><code>x13</code>, <code>x14</code>, <code>x23</code>, <code>x24</code>, <code>x28</code>, <code>v[16-31]</code>, <code>p[0-15]</code>, <code>ffr</code></td><td>이들은 Arm64EC에서 지원되지 않는 AArch64 레지스터들입니다.</td></tr>
<tr><td>ARM</td><td><code>pc</code></td><td>이것은 프로그램 카운터(pc)이며, 실제 레지스터가 아닙니다.</td></tr>
<tr><td>ARM</td><td><code>r9</code></td><td>이는 일부 ARM 타겟에서 OS가 예약한 레지스터입니다.</td></tr>
<tr><td>RISC-V</td><td><code>x0</code></td><td>이것은 수정할 수 없는 상수 제로 레지스터입니다.</td></tr>
<tr><td>RISC-V</td><td><code>gp</code>, <code>tp</code></td><td>이 레지스터들은 예약되어 있으며 입력이나 출력으로 사용할 수 없습니다.</td></tr>
<tr><td>LoongArch</td><td><code>$r0</code> 또는 <code>$zero</code></td><td>이것은 수정할 수 없는 상수 제로 레지스터입니다.</td></tr>
<tr><td>LoongArch</td><td><code>$r2</code> 또는 <code>$tp</code></td><td>이는 TLS를 위해 예약되어 있습니다.</td></tr>
<tr><td>LoongArch</td><td><code>$r21</code></td><td>이는 ABI에 의해 예약되어 있습니다.</td></tr>
<tr><td>s390x</td><td><code>c[0-15]</code></td><td>커널에 의해 예약되어 있습니다.</td></tr>
<tr><td>s390x</td><td><code>a[0-1]</code></td><td>시스템 사용을 위해 예약되어 있습니다.</td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>r2</code>, <code>r13</code></td><td>These are system reserved registers.</td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>vrsave</code></td><td>The vrsave register cannot be used as an input or output.</td></tr>
</tbody>
</table>
</div>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>// bp는 예약되어 있습니다.
unsafe { core::arch::asm!("", in("bp") 5i32); }
// 오류: 잘못된 레지스터 `bp`: 프레임 포인터는 인라인 asm의 피연산자로 사용할 수 없습니다.
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.register-names.fp-bp-reserved"><a class="rule-link" href="#r-asm.register-names.fp-bp-reserved" title="asm.register-names.fp-bp-reserved"><span>[asm<wbr>.register-names<wbr>.fp-bp-reserved]</span></a>
</div>

<p>프레임 포인터와 베이스 포인터 레지스터는 LLVM 내부 사용을 위해 예약되어 있습니다. <code>asm!</code> 구문에서 예약된 레지스터 사용을 명시적으로 지정할 수는 없지만, 일부 경우 LLVM이 <code>reg</code> 피연산자를 위해 이러한 예약된 레지스터 중 하나를 할당할 수 있습니다. 예약된 레지스터를 사용하는 어셈블리 코드는 <code>reg</code> 피연산자가 동일한 레지스터를 사용할 수 있으므로 주의해야 합니다.</p>
<div class="rule" id="r-asm.template-modifiers"><a class="rule-link" href="#r-asm.template-modifiers" title="asm.template-modifiers"><span>[asm<wbr>.template-modifiers]</span></a>
</div>

<h2 id="템플릿-수식어"><a class="header" href="#템플릿-수식어">템플릿 수식어</a></h2>
<div class="rule" id="r-asm.template-modifiers.intro"><a class="rule-link" href="#r-asm.template-modifiers.intro" title="asm.template-modifiers.intro"><span>[asm<wbr>.template-modifiers<wbr>.intro]</span></a>
</div>

<p>플레이스홀더는 중괄호 안의 <code>:</code> 뒤에 수식어를 지정하여 기능을 확장할 수 있습니다. 이러한 수식어는 레지스터 할당에는 영향을 주지 않지만, 피연산자가 템플릿 문자열에 삽입될 때 포맷팅되는 방식을 변경합니다.</p>
<div class="rule" id="r-asm.template-modifiers.only-one"><a class="rule-link" href="#r-asm.template-modifiers.only-one" title="asm.template-modifiers.only-one"><span>[asm<wbr>.template-modifiers<wbr>.only-one]</span></a>
</div>

<p>템플릿 플레이스홀더당 하나의 수식어만 허용됩니다.</p>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>// `r` 과 `e` 를 동시에 지정할 수는 없습니다.
unsafe { core::arch::asm!("/* {:er}", in(reg) 5i32); }
// 오류: asm 템플릿 수식어는 단일 문자여야 합니다.
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.template-modifiers.supported-modifiers"><a class="rule-link" href="#r-asm.template-modifiers.supported-modifiers" title="asm.template-modifiers.supported-modifiers"><span>[asm<wbr>.template-modifiers<wbr>.supported-modifiers]</span></a>
</div>

<p>지원되는 수식어는 LLVM(및 GCC)의 <a href="http://llvm.org/docs/LangRef.html#asm-template-argument-modifiers">asm 템플릿 인자 수식어</a> 의 하위 집합이지만, 동일한 문자 코드를 사용하지는 않습니다.</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>아키텍처</th><th>레지스터 클래스</th><th>수식어</th><th>출력 예시</th><th>LLVM 수식어</th></tr>
</thead>
<tbody>
<tr><td>x86-32</td><td><code>reg</code></td><td>없음</td><td><code>eax</code></td><td><code>k</code></td></tr>
<tr><td>x86-64</td><td><code>reg</code></td><td>없음</td><td><code>rax</code></td><td><code>q</code></td></tr>
<tr><td>x86-32</td><td><code>reg_abcd</code></td><td><code>l</code></td><td><code>al</code></td><td><code>b</code></td></tr>
<tr><td>x86-64</td><td><code>reg</code></td><td><code>l</code></td><td><code>al</code></td><td><code>b</code></td></tr>
<tr><td>x86</td><td><code>reg_abcd</code></td><td><code>h</code></td><td><code>ah</code></td><td><code>h</code></td></tr>
<tr><td>x86</td><td><code>reg</code></td><td><code>x</code></td><td><code>ax</code></td><td><code>w</code></td></tr>
<tr><td>x86</td><td><code>reg</code></td><td><code>e</code></td><td><code>eax</code></td><td><code>k</code></td></tr>
<tr><td>x86-64</td><td><code>reg</code></td><td><code>r</code></td><td><code>rax</code></td><td><code>q</code></td></tr>
<tr><td>x86</td><td><code>reg_byte</code></td><td>없음</td><td><code>al</code> / <code>ah</code></td><td>없음</td></tr>
<tr><td>x86</td><td><code>xmm_reg</code></td><td>없음</td><td><code>xmm0</code></td><td><code>x</code></td></tr>
<tr><td>x86</td><td><code>ymm_reg</code></td><td>없음</td><td><code>ymm0</code></td><td><code>t</code></td></tr>
<tr><td>x86</td><td><code>zmm_reg</code></td><td>없음</td><td><code>zmm0</code></td><td><code>g</code></td></tr>
<tr><td>x86</td><td><code>*mm_reg</code></td><td><code>x</code></td><td><code>xmm0</code></td><td><code>x</code></td></tr>
<tr><td>x86</td><td><code>*mm_reg</code></td><td><code>y</code></td><td><code>ymm0</code></td><td><code>t</code></td></tr>
<tr><td>x86</td><td><code>*mm_reg</code></td><td><code>z</code></td><td><code>zmm0</code></td><td><code>g</code></td></tr>
<tr><td>x86</td><td><code>kreg</code></td><td>없음</td><td><code>k1</code></td><td>없음</td></tr>
<tr><td>AArch64/Arm64EC</td><td><code>reg</code></td><td>없음</td><td><code>x0</code></td><td><code>x</code></td></tr>
<tr><td>AArch64/Arm64EC</td><td><code>reg</code></td><td><code>w</code></td><td><code>w0</code></td><td><code>w</code></td></tr>
<tr><td>AArch64/Arm64EC</td><td><code>reg</code></td><td><code>x</code></td><td><code>x0</code></td><td><code>x</code></td></tr>
<tr><td>AArch64/Arm64EC</td><td><code>vreg</code></td><td>없음</td><td><code>v0</code></td><td>없음</td></tr>
<tr><td>AArch64/Arm64EC</td><td><code>vreg</code></td><td><code>v</code></td><td><code>v0</code></td><td>없음</td></tr>
<tr><td>AArch64/Arm64EC</td><td><code>vreg</code></td><td><code>b</code></td><td><code>b0</code></td><td><code>b</code></td></tr>
<tr><td>AArch64/Arm64EC</td><td><code>vreg</code></td><td><code>h</code></td><td><code>h0</code></td><td><code>h</code></td></tr>
<tr><td>AArch64/Arm64EC</td><td><code>vreg</code></td><td><code>s</code></td><td><code>s0</code></td><td><code>s</code></td></tr>
<tr><td>AArch64/Arm64EC</td><td><code>vreg</code></td><td><code>d</code></td><td><code>d0</code></td><td><code>d</code></td></tr>
<tr><td>AArch64/Arm64EC</td><td><code>vreg</code></td><td><code>q</code></td><td><code>q0</code></td><td><code>q</code></td></tr>
<tr><td>ARM</td><td><code>reg</code></td><td>없음</td><td><code>r0</code></td><td>없음</td></tr>
<tr><td>ARM</td><td><code>sreg</code></td><td>없음</td><td><code>s0</code></td><td>없음</td></tr>
<tr><td>ARM</td><td><code>dreg</code></td><td>없음</td><td><code>d0</code></td><td><code>P</code></td></tr>
<tr><td>ARM</td><td><code>qreg</code></td><td>없음</td><td><code>q0</code></td><td><code>q</code></td></tr>
<tr><td>ARM</td><td><code>qreg</code></td><td><code>e</code> / <code>f</code></td><td><code>d0</code> / <code>d1</code></td><td><code>e</code> / <code>f</code></td></tr>
<tr><td>RISC-V</td><td><code>reg</code></td><td>없음</td><td><code>x1</code></td><td>없음</td></tr>
<tr><td>RISC-V</td><td><code>freg</code></td><td>없음</td><td><code>f0</code></td><td>없음</td></tr>
<tr><td>LoongArch</td><td><code>reg</code></td><td>없음</td><td><code>$r1</code></td><td>없음</td></tr>
<tr><td>LoongArch</td><td><code>freg</code></td><td>없음</td><td><code>$f0</code></td><td>없음</td></tr>
<tr><td>s390x</td><td><code>reg</code></td><td>없음</td><td><code>%r0</code></td><td>없음</td></tr>
<tr><td>s390x</td><td><code>reg_addr</code></td><td>없음</td><td><code>%r1</code></td><td>없음</td></tr>
<tr><td>s390x</td><td><code>freg</code></td><td>없음</td><td><code>%f0</code></td><td>없음</td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>reg</code></td><td>없음</td><td><code>0</code></td><td>없음</td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>reg_nonzero</code></td><td>없음</td><td><code>3</code></td><td>없음</td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>freg</code></td><td>없음</td><td><code>0</code></td><td>없음</td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>vreg</code></td><td>없음</td><td><code>0</code></td><td>없음</td></tr>
<tr><td>PowerPC/PowerPC64</td><td><code>vsreg</code></td><td>없음</td><td><code>0</code></td><td>없음</td></tr>
</tbody>
</table>
</div>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>

<ul>
<li>ARM의 <code>e</code> / <code>f</code>: 이는 NEON 쿼드(128비트) 레지스터의 하위 또는 상위 더블워드(doubleword) 레지스터 이름을 출력합니다.</li>
<li>x86: 수식어가 없는 <code>reg</code> 에 대한 우리의 동작은 GCC와 다릅니다. GCC는 피연산자 값 타입을 기반으로 수식어를 추론하지만, 우리는 기본적으로 전체 레지스터 크기를 사용합니다.</li>
<li>x86 <code>xmm_reg</code>: <code>x</code>, <code>t</code> 및 <code>g</code> LLVM 수식어는 아직 LLVM에 구현되지 않았지만(이들은 GCC에서만 지원됨), 이는 간단한 변경사항일 것입니다.</li>
</ul>
</blockquote>
</div>

<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let mut x = 0x10u16;

// `xchg` 를 사용한 u16::swap_bytes
// `{x}` 의 하위 절반은 `{x:l}` 로, 상위 절반은 `{x:h}` 로 참조됩니다.
unsafe { core::arch::asm!("xchg {x:l}, {x:h}", x = inout(reg_abcd) x); }
assert_eq!(x, 0x1000u16);
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.template-modifiers.smaller-value"><a class="rule-link" href="#r-asm.template-modifiers.smaller-value" title="asm.template-modifiers.smaller-value"><span>[asm<wbr>.template-modifiers<wbr>.smaller-value]</span></a>
</div>

<p>As stated in the previous section, passing an input value smaller than the register width will result in the upper bits of the register containing undefined values. This is not a problem if the inline asm only accesses the lower bits of the register, which can be done by using a template modifier to use a subregister name in the assembly code (e.g. <code>ax</code> instead of <code>rax</code>). Since this an easy pitfall, the compiler will suggest a template modifier to use where appropriate given the input type. If all references to an operand already have modifiers then the warning is suppressed for that operand.</p>
<div class="rule" id="r-asm.abi-clobbers"><a class="rule-link" href="#r-asm.abi-clobbers" title="asm.abi-clobbers"><span>[asm<wbr>.abi-clobbers]</span></a>
</div>

<h2 id="abi-클로버clobbers"><a class="header" href="#abi-클로버clobbers">ABI 클로버(Clobbers)</a></h2>
<div class="rule" id="r-asm.abi-clobbers.intro"><a class="rule-link" href="#r-asm.abi-clobbers.intro" title="asm.abi-clobbers.intro"><span>[asm<wbr>.abi-clobbers<wbr>.intro]</span></a>
</div>

<p>The <code>clobber_abi</code> keyword can be used to apply a default set of clobbers to the assembly code. This will automatically insert the necessary clobber constraints as needed for calling a function with a particular calling convention: if the calling convention does not fully preserve the value of a register across a call then <code>lateout("...") _</code> is implicitly added to the operands list (where the <code>...</code> is replaced by the register’s name).</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>extern "C" fn foo() -&gt; i32 { 0 }

let z: i32;
// 함수를 호출하려면, 피호출자 저장(callee saved) 레지스터를 클로버하고 있음을 컴파일러에 알려야 합니다.
unsafe { core::arch::asm!("call {}", sym foo, out("rax") z, clobber_abi("C")); }
assert_eq!(z, 0);
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.abi-clobbers.many"><a class="rule-link" href="#r-asm.abi-clobbers.many" title="asm.abi-clobbers.many"><span>[asm<wbr>.abi-clobbers<wbr>.many]</span></a>
</div>

<p><code>clobber_abi</code> 는 횟수 제한 없이 지정될 수 있습니다. 지정된 모든 호출 규약의 합집합에 속하는 모든 고유 레지스터에 대해 클로버를 삽입합니다.</p>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>extern "sysv64" fn foo() -&gt; i32 { 0 }
extern "win64" fn bar(x: i32) -&gt; i32 { x + 1 }

let z: i32;
// 심지어 서로 다른 규약과 서로 다른 저장된 레지스터를 가진 여러 함수를 호출할 수도 있습니다.
unsafe {
    core::arch::asm!(
        "call {}",
        "mov ecx, eax",
        "call {}",
        sym foo,
        sym bar,
        out("rax") z,
        clobber_abi("sysv64"),
        clobber_abi("win64"),
    );
}
assert_eq!(z, 1);
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.abi-clobbers.must-specify"><a class="rule-link" href="#r-asm.abi-clobbers.must-specify" title="asm.abi-clobbers.must-specify"><span>[asm<wbr>.abi-clobbers<wbr>.must-specify]</span></a>
</div>

<p><code>clobber_abi</code> 가 사용될 때 컴파일러는 제네릭 레지스터 클래스 출력을 허용하지 않습니다. 모든 출력은 명시적 레지스터를 지정해야 합니다.</p>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>extern "C" fn foo(x: i32) -&gt; i32 { 0 }

let z: i32;
// 실수로 겹치지 않도록 명시적 레지스터를 사용해야 합니다.
unsafe {
    core::arch::asm!(
        "mov eax, {:e}",
        "call {}",
        out(reg) z,
        sym foo,
        clobber_abi("C")
    );
    // 오류: `clobber_abi` 를 사용하는 asm은 출력에 대해 명시적 레지스터를 지정해야 합니다.
}
assert_eq!(z, 0);
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.abi-clobbers.explicit-have-precedence"><a class="rule-link" href="#r-asm.abi-clobbers.explicit-have-precedence" title="asm.abi-clobbers.explicit-have-precedence"><span>[asm<wbr>.abi-clobbers<wbr>.explicit-have-precedence]</span></a>
</div>

<p>명시적 레지스터 출력은 <code>clobber_abi</code> 에 의해 삽입된 암시적 클로버보다 우선순위를 갖습니다. 레지스터가 출력으로 사용되지 않는 경우에만 해당 레지스터에 대한 클로버가 삽입됩니다.</p>
<div class="rule" id="r-asm.abi-clobbers.supported-abis"><a class="rule-link" href="#r-asm.abi-clobbers.supported-abis" title="asm.abi-clobbers.supported-abis"><span>[asm<wbr>.abi-clobbers<wbr>.supported-abis]</span></a>
</div>

<p>다음 ABI들은 <code>clobber_abi</code> 와 함께 사용될 수 있습니다:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>아키텍처</th><th>ABI 이름</th><th>클로버된 레지스터</th></tr>
</thead>
<tbody>
<tr><td>x86-32</td><td><code>"C"</code>, <code>"system"</code>, <code>"efiapi"</code>, <code>"cdecl"</code>, <code>"stdcall"</code>, <code>"fastcall"</code></td><td><code>ax</code>, <code>cx</code>, <code>dx</code>, <code>xmm[0-7]</code>, <code>mm[0-7]</code>, <code>k[0-7]</code>, <code>st([0-7])</code></td></tr>
<tr><td>x86-64</td><td><code>"C"</code>, <code>"system"</code> (윈도우 전용), <code>"efiapi"</code>, <code>"win64"</code></td><td><code>ax</code>, <code>cx</code>, <code>dx</code>, <code>r[8-11]</code>, <code>xmm[0-31]</code>, <code>mm[0-7]</code>, <code>k[0-7]</code>, <code>st([0-7])</code>, <code>tmm[0-7]</code></td></tr>
<tr><td>x86-64</td><td><code>"C"</code>, <code>"system"</code> (윈도우 제외), <code>"sysv64"</code></td><td><code>ax</code>, <code>cx</code>, <code>dx</code>, <code>si</code>, <code>di</code>, <code>r[8-11]</code>, <code>xmm[0-31]</code>, <code>mm[0-7]</code>, <code>k[0-7]</code>, <code>st([0-7])</code>, <code>tmm[0-7]</code></td></tr>
<tr><td>AArch64</td><td><code>"C"</code>, <code>"system"</code>, <code>"efiapi"</code></td><td><code>x[0-17]</code>, <code>x18</code>*, <code>x30</code>, <code>v[0-31]</code>, <code>p[0-15]</code>, <code>ffr</code></td></tr>
<tr><td>Arm64EC</td><td><code>"C"</code>, <code>"system"</code></td><td><code>x[0-12]</code>, <code>x[15-17]</code>, <code>x30</code>, <code>v[0-15]</code></td></tr>
<tr><td>ARM</td><td><code>"C"</code>, <code>"system"</code>, <code>"efiapi"</code>, <code>"aapcs"</code></td><td><code>r[0-3]</code>, <code>r12</code>, <code>r14</code>, <code>s[0-15]</code>, <code>d[0-7]</code>, <code>d[16-31]</code></td></tr>
<tr><td>RISC-V</td><td><code>"C"</code>, <code>"system"</code>, <code>"efiapi"</code></td><td><code>x1</code>, <code>x[5-7]</code>, <code>x[10-17]</code><em>, <code>x[28-31]</code></em>, <code>f[0-7]</code>, <code>f[10-17]</code>, <code>f[28-31]</code>, <code>v[0-31]</code></td></tr>
<tr><td>LoongArch</td><td><code>"C"</code>, <code>"system"</code></td><td><code>$r1</code>, <code>$r[4-20]</code>, <code>$f[0-23]</code></td></tr>
<tr><td>s390x</td><td><code>"C"</code>, <code>"system"</code></td><td><code>r[0-5]</code>, <code>r14</code>, <code>f[0-7]</code>, <code>v[0-31]</code>, <code>a[2-15]</code></td></tr>
</tbody>
</table>
</div>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>

<ul>
<li>AArch64에서 <code>x18</code> 은 타겟에서 예약된 레지스터로 간주되지 않는 경우에만 클로버 목록에 포함됩니다.</li>
<li>RISC-V에서 <code>x[16-17]</code> 및 <code>x[28-31]</code> 은 타겟에서 예약된 레지스터로 간주되지 않는 경우에만 클로버 목록에 포함됩니다.</li>
</ul>
</blockquote>
</div>

<p>각 ABI에 대한 클로버된 레지스터 목록은 아키텍처에 새로운 레지스터가 추가됨에 따라 rustc에서 업데이트됩니다. 이는 LLVM이 생성된 코드에서 이러한 새로운 레지스터를 사용하기 시작할 때 <code>asm!</code> 클로버가 계속해서 올바르게 작동하도록 보장합니다.</p>
<div class="rule" id="r-asm.options"><a class="rule-link" href="#r-asm.options" title="asm.options"><span>[asm<wbr>.options]</span></a>
</div>

<h2 id="옵션"><a class="header" href="#옵션">옵션</a></h2>
<div class="rule" id="r-asm.options.supported-options"><a class="rule-link" href="#r-asm.options.supported-options" title="asm.options.supported-options"><span>[asm<wbr>.options<wbr>.supported-options]</span></a>
</div>

<p>Flags are used to further influence the behavior of the inline assembly code. Currently the following options are defined:</p>
<div class="rule" id="r-asm.options.supported-options.pure"><a class="rule-link" href="#r-asm.options.supported-options.pure" title="asm.options.supported-options.pure"><span>[asm<wbr>.options<wbr>.supported-options<wbr>.pure]</span></a>
</div>

<ul>
<li><code>pure</code>: The assembly code has no side effects, must eventually return, and its outputs depend only on its direct inputs (i.e. the values themselves, not what they point to) or values read from memory (unless the <code>nomem</code> options is also set). This allows the compiler to execute the assembly code fewer times than specified in the program (e.g. by hoisting it out of a loop) or even eliminate it entirely if the outputs are not used. The <code>pure</code> option must be combined with either the <code>nomem</code> or <code>readonly</code> options, otherwise a compile-time error is emitted.</li>
</ul>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let x: i32 = 0;
let z: i32;
// `pure` 는 어셈블리에 부작용이 없다고 가정하여 최적화하는 데 사용될 수 있습니다.
unsafe { core::arch::asm!("inc {}", inout(reg) x =&gt; z, options(pure, nomem)); }
assert_eq!(z, 1);
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let x: i32 = 0;
let z: i32;
// 메모리 읽기 허용 여부를 나타내기 위해 nomem 또는 readonly 중 하나를 만족해야 합니다.
unsafe { core::arch::asm!("inc {}", inout(reg) x =&gt; z, options(pure)); }
// 오류: `pure` 옵션은 `nomem` 또는 `readonly` 중 하나와 결합되어야 합니다.
assert_eq!(z, 0);
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.options.supported-options.nomem"><a class="rule-link" href="#r-asm.options.supported-options.nomem" title="asm.options.supported-options.nomem"><span>[asm<wbr>.options<wbr>.supported-options<wbr>.nomem]</span></a>
</div>

<ul>
<li><code>nomem</code>: The assembly code does not read from or write to any memory accessible outside of the assembly code. This allows the compiler to cache the values of modified global variables in registers across execution of the assembly code since it knows that they are not read from or written to by it. The compiler also assumes that the assembly code does not perform any kind of synchronization with other threads, e.g. via fences.</li>
</ul>
<!-- no_run: This test has unpredictable or undefined behavior at runtime -->
<pre class="playground"><code class="language-rust no_run edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let mut x = 0i32;
let z: i32;
// Accessing outside memory from assembly when `nomem` is
// specified is disallowed
unsafe {
    core::arch::asm!("mov {val:e}, dword ptr [{ptr}]",
        ptr = in(reg) &amp;mut x,
        val = lateout(reg) z,
        options(nomem)
    )
}

// Writing to outside memory from assembly when `nomem` is
// specified is also undefined behaviour
unsafe {
    core::arch::asm!("mov  dword ptr [{ptr}], {val:e}",
        ptr = in(reg) &amp;mut x,
        val = in(reg) z,
        options(nomem)
    )
}
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let x: i32 = 0;
let z: i32;
// 하지만 `push` 등을 통해 우리만의 메모리를 할당한다면
// 여전히 그것을 사용할 수 있습니다.
unsafe {
    core::arch::asm!("push {x}", "add qword ptr [rsp], 1", "pop {x}",
        x = inout(reg) x =&gt; z,
        options(nomem)
    );
}
assert_eq!(z, 1);
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.options.supported-options.readonly"><a class="rule-link" href="#r-asm.options.supported-options.readonly" title="asm.options.supported-options.readonly"><span>[asm<wbr>.options<wbr>.supported-options<wbr>.readonly]</span></a>
</div>

<ul>
<li><code>readonly</code>: The assembly code does not write to any memory accessible outside of the assembly code. This allows the compiler to cache the values of unmodified global variables in registers across execution of the assembly code since it knows that they are not written to by it. The compiler also assumes that this assembly code does not perform any kind of synchronization with other threads, e.g. via fences.</li>
</ul>
<!-- no_run: This test has undefined behaviour at runtime -->
<pre class="playground"><code class="language-rust no_run edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let mut x = 0;
// We cannot modify outside memory when `readonly` is specified
unsafe {
    core::arch::asm!("mov dword ptr[{}], 1", in(reg) &amp;mut x, options(readonly))
}
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let x: i64 = 0;
let z: i64;
// 하지만 여전히 읽을 수는 있습니다.
unsafe {
    core::arch::asm!("mov {x}, qword ptr [{x}]",
        x = inout(reg) &amp;x =&gt; z,
        options(readonly)
    );
}
assert_eq!(z, 0);
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let x: i64 = 0;
let z: i64;
// nomem과 동일한 예외가 적용됩니다.
unsafe {
    core::arch::asm!("push {x}", "add qword ptr [rsp], 1", "pop {x}",
        x = inout(reg) x =&gt; z,
        options(readonly)
    );
}
assert_eq!(z, 1);
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.options.supported-options.preserves_flags"><a class="rule-link" href="#r-asm.options.supported-options.preserves_flags" title="asm.options.supported-options.preserves_flags"><span>[asm<wbr>.options<wbr>.supported-options<wbr>.preserves_flags]</span></a>
</div>

<ul>
<li><code>preserves_flags</code>: The assembly code does not modify the flags register (defined in the rules below). This allows the compiler to avoid recomputing the condition flags after execution of the assembly code.</li>
</ul>
<div class="rule" id="r-asm.options.supported-options.noreturn"><a class="rule-link" href="#r-asm.options.supported-options.noreturn" title="asm.options.supported-options.noreturn"><span>[asm<wbr>.options<wbr>.supported-options<wbr>.noreturn]</span></a>
</div>

<ul>
<li><code>noreturn</code>: The assembly code does not fall through; behavior is undefined if it does. It may still jump to <code>label</code> blocks. If any <code>label</code> blocks return unit, the <code>asm!</code> block will return unit. Otherwise it will return <code>!</code> (never). As with a call to a function that does not return, local variables in scope are not dropped before execution of the assembly code.</li>
</ul>
<!-- no_run: This test aborts at runtime -->
<pre class="playground"><code class="language-rust no_run edition2024">fn main() -&gt; ! {
<span class="boring">#[cfg(target_arch = "x86_64")] {
</span>    // noreturn 블록 내부에서 실행을 트랩(trap)하기 위해 명령어를 사용할 수 있습니다.
    unsafe { core::arch::asm!("ud2", options(noreturn)); }
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] panic!("no return");
</span>}</code></pre>
<!-- no_run: Test has undefined behavior at runtime -->
<pre class="playground"><code class="language-rust no_run edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>// noreturn asm 블록의 끝을 지나치지 않도록 할 책임은 사용자에게 있습니다.
unsafe { core::arch::asm!("", options(noreturn)); }
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")]
</span>let _: () = unsafe {
    // You may still jump to a `label` block
    core::arch::asm!("jmp {}", label {
        println!();
    }, options(noreturn));
};
<span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.options.supported-options.nostack"><a class="rule-link" href="#r-asm.options.supported-options.nostack" title="asm.options.supported-options.nostack"><span>[asm<wbr>.options<wbr>.supported-options<wbr>.nostack]</span></a>
</div>

<ul>
<li><code>nostack</code>: The assembly code does not push data to the stack, or write to the stack red-zone (if supported by the target). If this option is <em>not</em> used then the stack pointer is guaranteed by the compiler at the start of the assembly code to be suitably aligned (according to the target ABI) for a function call.</li>
</ul>
<!-- no_run: Test has undefined behavior at runtime -->
<pre class="playground"><code class="language-rust no_run edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>// nostack과 함께 `push` 및 `pop` 을 사용하는 것은 정의되지 않은 동작(UB)입니다.
unsafe { core::arch::asm!("push rax", "pop rax", options(nostack)); }
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.options.supported-options.att_syntax"><a class="rule-link" href="#r-asm.options.supported-options.att_syntax" title="asm.options.supported-options.att_syntax"><span>[asm<wbr>.options<wbr>.supported-options<wbr>.att_syntax]</span></a>
</div>

<ul>
<li><code>att_syntax</code>: 이 옵션은 x86에서만 유효하며, 어셈블러가 GNU 어셈블러의 <code>.att_syntax prefix</code> 모드를 사용하도록 합니다. 레지스터 피연산자는 앞에 <code>%</code> 가 붙은 상태로 치환됩니다.</li>
</ul>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let x: i32;
let y = 1i32;
// 여기서는 AT&amp;T 구문을 사용해야 합니다. 피연산자 순서는 src, dest입니다.
unsafe {
    core::arch::asm!("mov {y:e}, {x:e}",
        x = lateout(reg) x,
        y = in(reg) y,
        options(att_syntax)
    );
}
assert_eq!(x, y);
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.options.supported-options.raw"><a class="rule-link" href="#r-asm.options.supported-options.raw" title="asm.options.supported-options.raw"><span>[asm<wbr>.options<wbr>.supported-options<wbr>.raw]</span></a>
</div>

<ul>
<li><code>raw</code>: 템플릿 문자열을 원시 어셈블리 문자열로 파싱하게 하며, <code>{</code> 및 <code>}</code> 에 대한 특별한 처리를 하지 않습니다. 이는 주로 <code>include_str!</code> 을 사용하여 외부 파일에서 원시 어셈블리 코드를 포함할 때 유용합니다.</li>
</ul>
<div class="rule" id="r-asm.options.checks"><a class="rule-link" href="#r-asm.options.checks" title="asm.options.checks"><span>[asm<wbr>.options<wbr>.checks]</span></a>
</div>

<p>컴파일러는 옵션에 대해 몇 가지 추가 검사를 수행합니다.</p>
<div class="rule" id="r-asm.options.checks.mutually-exclusive"><a class="rule-link" href="#r-asm.options.checks.mutually-exclusive" title="asm.options.checks.mutually-exclusive"><span>[asm<wbr>.options<wbr>.checks<wbr>.mutually-exclusive]</span></a>
</div>

<ul>
<li><code>nomem</code> 과 <code>readonly</code> 옵션은 상호 배타적입니다. 두 옵션을 모두 지정하는 것은 컴파일 타임 오류입니다.</li>
</ul>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>// nomem은 readonly보다 엄격하게 강력하므로 함께 지정할 수 없습니다.
unsafe { core::arch::asm!("", options(nomem, readonly)); }
// 오류: `nomem` 과 `readonly` 옵션은 상호 배타적입니다.
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.options.checks.pure"><a class="rule-link" href="#r-asm.options.checks.pure" title="asm.options.checks.pure"><span>[asm<wbr>.options<wbr>.checks<wbr>.pure]</span></a>
</div>

<ul>
<li><code>pure</code> 를 출력이 없거나 버려지는 출력(<code>_</code>)만 있는 asm 블록에 지정하는 것은 컴파일 타임 오류입니다.</li>
</ul>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>// pure 블록은 최소 하나 이상의 출력이 필요합니다.
unsafe { core::arch::asm!("", options(pure)); }
// 오류: `pure` 옵션을 사용하는 asm은 최소 하나 이상의 출력이 있어야 합니다.
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.options.checks.noreturn"><a class="rule-link" href="#r-asm.options.checks.noreturn" title="asm.options.checks.noreturn"><span>[asm<wbr>.options<wbr>.checks<wbr>.noreturn]</span></a>
</div>

<ul>
<li>It is a compile-time error to specify <code>noreturn</code> on an asm block with outputs and without labels.</li>
</ul>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let z: i32;
// noreturn은 출력을 가질 수 없습니다.
unsafe { core::arch::asm!("mov {:e}, 1", out(reg) z, options(noreturn)); }
// 오류: `noreturn` 옵션에서는 asm 출력이 허용되지 않습니다.
<span class="boring">}
</span><span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.options.checks.label-with-outputs"><a class="rule-link" href="#r-asm.options.checks.label-with-outputs" title="asm.options.checks.label-with-outputs"><span>[asm<wbr>.options<wbr>.checks<wbr>.label-with-outputs]</span></a>
</div>

<ul>
<li>It is a compile-time error to have any <code>label</code> blocks in an asm block with outputs.</li>
</ul>
<div class="rule" id="r-asm.options.naked_asm-restriction"><a class="rule-link" href="#r-asm.options.naked_asm-restriction" title="asm.options.naked_asm-restriction"><span>[asm<wbr>.options<wbr>.naked_asm-restriction]</span></a>
</div>

<p><code>naked_asm!</code> only supports the <code>att_syntax</code> and <code>raw</code> options. The remaining options are not meaningful because the inline assembly defines the whole function body.</p>
<div class="rule" id="r-asm.options.global_asm-restriction"><a class="rule-link" href="#r-asm.options.global_asm-restriction" title="asm.options.global_asm-restriction"><span>[asm<wbr>.options<wbr>.global_asm-restriction]</span></a>
</div>

<p><code>global_asm!</code> only supports the <code>att_syntax</code> and <code>raw</code> options. The remaining options are not meaningful for global-scope inline assembly.</p>
<pre class="playground"><code class="language-rust compile_fail edition2024"><span class="boring">fn main() {}
</span><span class="boring">#[cfg(target_arch = "x86_64")]
</span>// global_asm!에서 nomem은 무의미합니다.
core::arch::global_asm!("", options(nomem));
<span class="boring">#[cfg(not(target_arch = "x86_64"))] core::compile_error!("이 아키텍처에서는 테스트가 지원되지 않습니다");</span></code></pre>
<div class="rule" id="r-asm.rules"><a class="rule-link" href="#r-asm.rules" title="asm.rules"><span>[asm<wbr>.rules]</span></a>
</div>

<h2 id="인라인-어셈블리-규칙"><a class="header" href="#인라인-어셈블리-규칙">인라인 어셈블리 규칙</a></h2>
<div class="rule" id="r-asm.rules.intro"><a class="rule-link" href="#r-asm.rules.intro" title="asm.rules.intro"><span>[asm<wbr>.rules<wbr>.intro]</span></a>
</div>

<p>정의되지 않은 동작을 피하기 위해, 함수 스코프 인라인 어셈블리(<code>asm!</code>)를 사용할 때는 다음 규칙들을 따라야 합니다.</p>
<div class="rule" id="r-asm.rules.reg-not-input"><a class="rule-link" href="#r-asm.rules.reg-not-input" title="asm.rules.reg-not-input"><span>[asm<wbr>.rules<wbr>.reg-not-input]</span></a>
</div>

<ul>
<li>Any registers not specified as inputs will contain an undefined value on entry to the assembly code.
<ul>
<li>인라인 어셈블리 문맥에서 “정의되지 않은 값“이란, 해당 레지스터가 아키텍처에서 허용하는 가능한 값들 중 하나를 (비결정적으로) 가질 수 있음을 의미합니다. 특히 이는 읽을 때마다 값이 달라질 수 있는 LLVM의 <code>undef</code> 와는 다릅니다(어셈블리 코드에는 그러한 개념이 존재하지 않기 때문입니다).</li>
</ul>
</li>
</ul>
<div class="rule" id="r-asm.rules.reg-not-output"><a class="rule-link" href="#r-asm.rules.reg-not-output" title="asm.rules.reg-not-output"><span>[asm<wbr>.rules<wbr>.reg-not-output]</span></a>
</div>

<ul>
<li>Any registers not specified as outputs must have the same value upon exiting the assembly code as they had on entry, otherwise behavior is undefined.
<ul>
<li>이는 입력 또는 출력으로 지정될 수 있는 레지스터에만 적용됩니다. 다른 레지스터들은 타겟별 규칙을 따릅니다.</li>
<li><code>lateout</code> 이 <code>in</code> 과 동일한 레지스터에 할당될 수 있으며, 이 경우 이 규칙은 적용되지 않음에 유의하십시오. 하지만 이는 레지스터 할당 결과에 의존하므로 코드가 이에 의존해서는 안 됩니다.</li>
</ul>
</li>
</ul>
<div class="rule" id="r-asm.rules.unwind"><a class="rule-link" href="#r-asm.rules.unwind" title="asm.rules.unwind"><span>[asm<wbr>.rules<wbr>.unwind]</span></a>
</div>

<ul>
<li>Behavior is undefined if execution unwinds out of the assembly code.
<ul>
<li>어셈블리 코드가 호출한 함수가 언와인드되는 경우에도 마찬가지로 적용됩니다.</li>
</ul>
</li>
</ul>
<div class="rule" id="r-asm.rules.mem-same-as-ffi"><a class="rule-link" href="#r-asm.rules.mem-same-as-ffi" title="asm.rules.mem-same-as-ffi"><span>[asm<wbr>.rules<wbr>.mem-same-as-ffi]</span></a>
</div>

<ul>
<li>어셈블리 코드가 읽고 쓸 수 있도록 허용된 메모리 위치의 집합은 FFI 함수에 허용된 것과 동일합니다.
<ul>
<li>만약 <code>readonly</code> 옵션이 설정되어 있다면, 메모리 읽기만 허용됩니다.</li>
<li>만약 <code>nomem</code> 옵션이 설정되어 있다면, 메모리에 대한 어떠한 읽기나 쓰기도 허용되지 않습니다.</li>
<li>These rules do not apply to memory which is private to the assembly code, such as stack space allocated within it.</li>
</ul>
</li>
</ul>
<div class="rule" id="r-asm.rules.black-box"><a class="rule-link" href="#r-asm.rules.black-box" title="asm.rules.black-box"><span>[asm<wbr>.rules<wbr>.black-box]</span></a>
</div>

<ul>
<li>The compiler cannot assume that the instructions in the assembly code are the ones that will actually end up executed.
<ul>
<li>This effectively means that the compiler must treat the assembly code as a black box and only take the interface specification into account, not the instructions themselves.</li>
<li>런타임 코드 패칭(patching)은 타겟별 메커니즘을 통해 허용됩니다.</li>
<li>However there is no guarantee that each block of assembly code in the source directly corresponds to a single instance of instructions in the object file; the compiler is free to duplicate or deduplicate the assembly code in <code>asm!</code> blocks.</li>
</ul>
</li>
</ul>
<div class="rule" id="r-asm.rules.stack-below-sp"><a class="rule-link" href="#r-asm.rules.stack-below-sp" title="asm.rules.stack-below-sp"><span>[asm<wbr>.rules<wbr>.stack-below-sp]</span></a>
</div>

<ul>
<li>Unless the <code>nostack</code> option is set, assembly code is allowed to use stack space below the stack pointer.
<ul>
<li>On entry to the assembly code the stack pointer is guaranteed to be suitably aligned (according to the target ABI) for a function call.</li>
<li>스택 오버플로가 발생하지 않도록 할 책임은 사용자에게 있습니다(예: 가드 페이지에 도달하도록 스택 프로빙(stack probing) 사용).</li>
<li>타겟 ABI의 요구에 따라 스택 메모리를 할당할 때는 스택 포인터를 조정해야 합니다.</li>
<li>The stack pointer must be restored to its original value before leaving the assembly code.</li>
</ul>
</li>
</ul>
<div class="rule" id="r-asm.rules.stack-above-sp"><a class="rule-link" href="#r-asm.rules.stack-above-sp" title="asm.rules.stack-above-sp"><span>[asm<wbr>.rules<wbr>.stack-above-sp]</span></a>
</div>

<ul>
<li>Unless the <code>nostack</code> option is set, assembly code is allowed to modify the caller’s stack frame when the target ABI requires storing certain values in the caller’s frame (e.g., when saving the <code>lr</code> on PowerPC64).</li>
</ul>
<div class="rule" id="r-asm.rules.noreturn"><a class="rule-link" href="#r-asm.rules.noreturn" title="asm.rules.noreturn"><span>[asm<wbr>.rules<wbr>.noreturn]</span></a>
</div>

<ul>
<li>If the <code>noreturn</code> option is set then behavior is undefined if execution falls through the end of the assembly code.</li>
</ul>
<div class="rule" id="r-asm.rules.pure"><a class="rule-link" href="#r-asm.rules.pure" title="asm.rules.pure"><span>[asm<wbr>.rules<wbr>.pure]</span></a>
</div>

<ul>
<li><code>pure</code> 옵션이 설정된 경우, <code>asm!</code> 이 직접적인 출력 이외의 부작용을 가지면 동작은 정의되지 않습니다. 또한 동일한 입력에 대해 두 번의 <code>asm!</code> 실행이 서로 다른 출력을 내는 경우에도 동작은 정의되지 않습니다.
<ul>
<li><code>nomem</code> 옵션과 함께 사용될 때, “입력“은 오직 <code>asm!</code> 의 직접적인 입력만을 의미합니다.</li>
<li>When used with the <code>readonly</code> option, “inputs” comprise the direct inputs of the assembly code and any memory that it is allowed to read.</li>
</ul>
</li>
</ul>
<div class="rule" id="r-asm.rules.preserved-registers"><a class="rule-link" href="#r-asm.rules.preserved-registers" title="asm.rules.preserved-registers"><span>[asm<wbr>.rules<wbr>.preserved-registers]</span></a>
</div>

<ul>
<li>These flags registers must be restored upon exiting the assembly code if the <code>preserves_flags</code> option is set:
<ul>
<li>x86
<ul>
<li><code>EFLAGS</code> 의 상태 플래그 (CF, PF, AF, ZF, SF, OF).</li>
<li>부동 소수점 상태 워드 (전체).</li>
<li><code>MXCSR</code> 의 부동 소수점 예외 플래그 (PE, UE, OE, ZE, DE, IE).</li>
</ul>
</li>
<li>ARM
<ul>
<li><code>CPSR</code> 의 조건 플래그 (N, Z, C, V)</li>
<li><code>CPSR</code> 의 포화(Saturation) 플래그 (Q)</li>
<li><code>CPSR</code> 의 크거나 같음(Greater than or equal) 플래그 (GE).</li>
<li><code>FPSCR</code> 의 조건 플래그 (N, Z, C, V)</li>
<li><code>FPSCR</code> 의 포화(Saturation) 플래그 (QC)</li>
<li><code>FPSCR</code> 의 부동 소수점 예외 플래그 (IDC, IXC, UFC, OFC, DZC, IOC).</li>
</ul>
</li>
<li>AArch64 및 Arm64EC
<ul>
<li>조건 플래그 (<code>NZCV</code> 레지스터).</li>
<li>부동 소수점 상태 (<code>FPSR</code> 레지스터).</li>
</ul>
</li>
<li>RISC-V
<ul>
<li><code>fcsr</code> 의 부동 소수점 예외 플래그 (<code>fflags</code>).</li>
<li>Vector extension state (<code>vtype</code>, <code>vl</code>, <code>vxsat</code>, and <code>vxrm</code>).</li>
</ul>
</li>
<li>LoongArch
<ul>
<li><code>$fcc[0-7]</code> 의 부동 소수점 조건 플래그.</li>
</ul>
</li>
<li>PowerPC/PowerPC64
<ul>
<li>Floating-point status and sticky bits in the <code>fpscr</code> (any field other than DRN, VE, OE, UE, ZE, XE, NI, or RN).</li>
<li>Vector status and sticky bits in the <code>vscr</code> (any field other than NJ).</li>
</ul>
</li>
<li>PowerPC SPE
<ul>
<li>The sticky and status bits of the <code>spefscr</code> (any field other than FINXE, FINVE, FDBZE, FUNFE, FOVFE, or FRMC).</li>
</ul>
</li>
<li>s390x
<ul>
<li>조건 코드 레지스터 <code>cc</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="rule" id="r-asm.rules.x86-df"><a class="rule-link" href="#r-asm.rules.x86-df" title="asm.rules.x86-df"><span>[asm<wbr>.rules<wbr>.x86-df]</span></a>
</div>

<ul>
<li>On x86, the direction flag (DF in <code>EFLAGS</code>) is clear on entry to the assembly code and must be clear on exit.
<ul>
<li>Behavior is undefined if the direction flag is set on exiting the assembly code.</li>
</ul>
</li>
</ul>
<div class="rule" id="r-asm.rules.x86-x87"><a class="rule-link" href="#r-asm.rules.x86-x87" title="asm.rules.x86-x87"><span>[asm<wbr>.rules<wbr>.x86-x87]</span></a>
</div>

<ul>
<li>x86에서, 모든 <code>st([0-7])</code> 레지스터들이 <code>out("st(0)") _, out("st(1)") _, ...</code> 와 같이 클로버된 것으로 표시되지 않는 한, x87 부동 소수점 레지스터 스택은 변경되지 않은 상태로 유지되어야 합니다.
<ul>
<li>If all x87 registers are clobbered then the x87 register stack is guaranteed to be empty upon entering the assembly code. Assembly code must ensure that the x87 register stack is also empty when exiting the assembly code.</li>
</ul>
</li>
</ul>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#[cfg(target_arch = "x86_64")]
</span>pub fn fadd(x: f64, y: f64) -&gt; f64 {
  let mut out = 0f64;
  let mut top = 0u16;
  // 전체 x87 스택을 클로버하면 x87로 복잡한 작업을 수행할 수 있습니다.
  unsafe { core::arch::asm!(
    "fld qword ptr [{x}]",
    "fld qword ptr [{y}])",
    "faddp",
    "fstp qword ptr [{out}]",
    "xor eax, eax",
    "fstsw ax",
    "shl eax, 11",
    x = in(reg) &amp;x,
    y = in(reg) &amp;y,
    out = in(reg) &amp;mut out,
    out("st(0)") _, out("st(1)") _, out("st(2)") _, out("st(3)") _,
    out("st(4)") _, out("st(5)") _, out("st(6)") _, out("st(7)") _,
    out("eax") top
  );}

  assert_eq!(top &amp; 0x7, 0);
  out
}

pub fn main() {
<span class="boring">#[cfg(target_arch = "x86_64")]{
</span>  assert_eq!(fadd(1.0, 1.0), 2.0);
<span class="boring">}
</span>}</code></pre>
<div class="rule" id="r-asm.rules.arm64ec"><a class="rule-link" href="#r-asm.rules.arm64ec" title="asm.rules.arm64ec"><span>[asm<wbr>.rules<wbr>.arm64ec]</span></a>
</div>

<ul>
<li>arm64ec에서는 함수를 호출할 때 <a href="https://learn.microsoft.com/en-us/windows/arm/arm64ec-abi#authoring-arm64ec-in-assembly">적절한 펑크(thunks)가 있는 호출 검사기(call checkers)</a> 가 필수입니다.</li>
</ul>
<div class="rule" id="r-asm.rules.only-on-exit"><a class="rule-link" href="#r-asm.rules.only-on-exit" title="asm.rules.only-on-exit"><span>[asm<wbr>.rules<wbr>.only-on-exit]</span></a>
</div>

<ul>
<li>The requirement of restoring the stack pointer and non-output registers to their original value only applies when exiting the assembly code.
<ul>
<li>This means that assembly code that does not fall through and does not jump to any <code>label</code> blocks, even if not marked <code>noreturn</code>, doesn’t need to preserve these registers.</li>
<li>When returning to the assembly code of a different <code>asm!</code> block than you entered (e.g. for context switching), these registers must contain the value they had upon entering the <code>asm!</code> block that you are <em>exiting</em>.
<ul>
<li>You cannot exit the assembly code of an <code>asm!</code> block that has not been entered. Neither can you exit the assembly code of an <code>asm!</code> block whose assembly code has already been exited (without first entering it again).</li>
<li>모든 타겟별 상태(예: 스레드 로컬 저장소, 스택 바운드)를 전환할 책임은 사용자에게 있습니다.</li>
<li>동일한 함수나 블록 내일지라도, 서로 다른 두 <code>asm!</code> 블록 사이를 점프할 때는 그 문맥(context)이 잠재적으로 다를 수 있음을 고려하고 문맥 전환(context switching)을 수행해야 합니다. 두 <code>asm!</code> 블록 사이에서 특정 문맥 값(예: 현재 스택 포인터 또는 스택 포인터 아래의 임시 값)이 변하지 않은 상태로 유지될 것이라고 가정할 수 없습니다.</li>
<li>접근할 수 있는 메모리 위치의 집합은 진입한 <code>asm!</code> 블록과 나가는 <code>asm!</code> 블록에서 허용된 위치들의 교집합입니다.</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="rule" id="r-asm.rules.not-successive"><a class="rule-link" href="#r-asm.rules.not-successive" title="asm.rules.not-successive"><span>[asm<wbr>.rules<wbr>.not-successive]</span></a>
</div>

<ul>
<li>소스 코드상에서 인접한 두 <code>asm!</code> 블록이 사이에 다른 코드가 없더라도, 바이너리 상에서 사이에 다른 명령어 없이 연속된 주소에 위치할 것이라고 가정할 수 없습니다.</li>
</ul>
<div class="rule" id="r-asm.rules.not-exactly-once"><a class="rule-link" href="#r-asm.rules.not-exactly-once" title="asm.rules.not-exactly-once"><span>[asm<wbr>.rules<wbr>.not-exactly-once]</span></a>
</div>

<ul>
<li><code>asm!</code> 블록이 출력 바이너리에 정확히 한 번 나타날 것이라고 가정할 수 없습니다. 컴파일러는 <code>asm!</code> 블록을 포함하는 함수가 여러 곳에 인라인되는 경우와 같이 <code>asm!</code> 블록의 여러 복사본을 인스턴스화할 수 있습니다.</li>
</ul>
<div class="rule" id="r-asm.rules.x86-prefix-restriction"><a class="rule-link" href="#r-asm.rules.x86-prefix-restriction" title="asm.rules.x86-prefix-restriction"><span>[asm<wbr>.rules<wbr>.x86-prefix-restriction]</span></a>
</div>

<ul>
<li>x86에서, 인라인 어셈블리는 컴파일러가 생성한 명령어에 적용될 수 있는 명령어 접두사(예: <code>LOCK</code>)로 끝나서는 안 됩니다.
<ul>
<li>현재 컴파일러는 인라인 어셈블리가 컴파일되는 방식 때문에 이를 감지할 수 없지만, 향후에는 이를 포착하여 거부할 수 있습니다.</li>
</ul>
</li>
</ul>
<div class="rule" id="r-asm.rules.preserves_flags"><a class="rule-link" href="#r-asm.rules.preserves_flags" title="asm.rules.preserves_flags"><span>[asm<wbr>.rules<wbr>.preserves_flags]</span></a>
</div>

<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>

<p>As a general rule, the flags covered by <code>preserves_flags</code> are those which are <em>not</em> preserved when performing a function call.</p>
</blockquote>
</div>

<div class="rule" id="r-asm.naked-rules"><a class="rule-link" href="#r-asm.naked-rules" title="asm.naked-rules"><span>[asm<wbr>.naked-rules]</span></a>
</div>

<h2 id="rules-for-naked-inline-assembly"><a class="header" href="#rules-for-naked-inline-assembly">Rules for naked inline assembly</a></h2>
<div class="rule" id="r-asm.naked-rules.intro"><a class="rule-link" href="#r-asm.naked-rules.intro" title="asm.naked-rules.intro"><span>[asm<wbr>.naked-rules<wbr>.intro]</span></a>
</div>

<p>To avoid undefined behavior, these rules must be followed when using function-scope inline assembly in naked functions (<code>naked_asm!</code>):</p>
<div class="rule" id="r-asm.naked-rules.reg-not-input"><a class="rule-link" href="#r-asm.naked-rules.reg-not-input" title="asm.naked-rules.reg-not-input"><span>[asm<wbr>.naked-rules<wbr>.reg-not-input]</span></a>
</div>

<ul>
<li>Any registers not used for function inputs according to the calling convention and function signature will contain an undefined value on entry to the <code>naked_asm!</code> block.
<ul>
<li>인라인 어셈블리 문맥에서 “정의되지 않은 값“이란, 해당 레지스터가 아키텍처에서 허용하는 가능한 값들 중 하나를 (비결정적으로) 가질 수 있음을 의미합니다. 특히 이는 읽을 때마다 값이 달라질 수 있는 LLVM의 <code>undef</code> 와는 다릅니다(어셈블리 코드에는 그러한 개념이 존재하지 않기 때문입니다).</li>
</ul>
</li>
</ul>
<div class="rule" id="r-asm.naked-rules.callee-saved-registers"><a class="rule-link" href="#r-asm.naked-rules.callee-saved-registers" title="asm.naked-rules.callee-saved-registers"><span>[asm<wbr>.naked-rules<wbr>.callee-saved-registers]</span></a>
</div>

<ul>
<li>All callee-saved registers must have the same value upon return as they had on entry.</li>
</ul>
<div class="rule" id="r-asm.naked-rules.caller-saved-registers"><a class="rule-link" href="#r-asm.naked-rules.caller-saved-registers" title="asm.naked-rules.caller-saved-registers"><span>[asm<wbr>.naked-rules<wbr>.caller-saved-registers]</span></a>
</div>

<ul>
<li>Caller-saved registers may be used freely.</li>
</ul>
<div class="rule" id="r-asm.naked-rules.noreturn"><a class="rule-link" href="#r-asm.naked-rules.noreturn" title="asm.naked-rules.noreturn"><span>[asm<wbr>.naked-rules<wbr>.noreturn]</span></a>
</div>

<ul>
<li>Behavior is undefined if execution falls through past the end of the assembly code.
<ul>
<li>Every path through the assembly code is expected to terminate with a return instruction or to diverge.</li>
</ul>
</li>
</ul>
<div class="rule" id="r-asm.naked-rules.mem-same-as-ffi"><a class="rule-link" href="#r-asm.naked-rules.mem-same-as-ffi" title="asm.naked-rules.mem-same-as-ffi"><span>[asm<wbr>.naked-rules<wbr>.mem-same-as-ffi]</span></a>
</div>

<ul>
<li>어셈블리 코드가 읽고 쓸 수 있도록 허용된 메모리 위치의 집합은 FFI 함수에 허용된 것과 동일합니다.</li>
</ul>
<div class="rule" id="r-asm.naked-rules.black-box"><a class="rule-link" href="#r-asm.naked-rules.black-box" title="asm.naked-rules.black-box"><span>[asm<wbr>.naked-rules<wbr>.black-box]</span></a>
</div>

<ul>
<li>The compiler cannot assume that the instructions in the <code>naked_asm!</code> block are the ones that will actually be executed.
<ul>
<li>This effectively means that the compiler must treat the <code>naked_asm!</code> as a black box and only take the interface specification into account, not the instructions themselves.</li>
<li>런타임 코드 패칭(patching)은 타겟별 메커니즘을 통해 허용됩니다.</li>
</ul>
</li>
</ul>
<div class="rule" id="r-asm.naked-rules.unwind"><a class="rule-link" href="#r-asm.naked-rules.unwind" title="asm.naked-rules.unwind"><span>[asm<wbr>.naked-rules<wbr>.unwind]</span></a>
</div>

<ul>
<li>Unwinding out of a <code>naked_asm!</code> block is allowed.
<ul>
<li>For correct behavior, the appropriate assembler directives that emit unwinding metadata must be used.</li>
</ul>
</li>
</ul>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>#[unsafe(naked)]
extern "sysv64-unwind" fn unwinding_naked() {
    core::arch::naked_asm!(
        // "CFI" here stands for "call frame information".
        ".cfi_startproc",
        // The CFA (canonical frame address) is the value of `rsp`
        // before the `call`, i.e. before the return address, `rip`,
        // was pushed to `rsp`, so it's eight bytes higher in memory
        // than `rsp` upon function entry (after `rip` has been
        // pushed).
        //
        // This is the default, so we don't have to write it.
        //".cfi_def_cfa rsp, 8",
        //
        // The traditional thing to do is to preserve the base
        // pointer, so we'll do that.
        "push rbp",
        // Since we've now extended the stack downward by 8 bytes in
        // memory, we need to adjust the offset to the CFA from `rsp`
        // by another 8 bytes.
        ".cfi_adjust_cfa_offset 8",
        // We also then annotate where we've stored the caller's value
        // of `rbp`, relative to the CFA, so that when unwinding into
        // the caller we can find it, in case we need it to calculate
        // the caller's CFA relative to it.
        //
        // Here, we've stored the caller's `rbp` starting 16 bytes
        // below the CFA.  I.e., starting from the CFA, there's first
        // the `rip` (which starts 8 bytes below the CFA and continues
        // up to it), then there's the caller's `rbp` that we just
        // pushed.
        ".cfi_offset rbp, -16",
        // As is traditional, we set the base pointer to the value of
        // the stack pointer.  This way, the base pointer stays the
        // same throughout the function body.
        "mov rbp, rsp",
        // We can now track the offset to the CFA from the base
        // pointer.  This means we don't need to make any further
        // adjustments until the end, as we don't change `rbp`.
        ".cfi_def_cfa_register rbp",
        // We can now call a function that may panic.
        "call {f}",
        // Upon return, we restore `rbp` in preparation for returning
        // ourselves.
        "pop rbp",
        // Now that we've restored `rbp`, we must specify the offset
        // to the CFA again in terms of `rsp`.
        ".cfi_def_cfa rsp, 8",
        // Now we can return.
        "ret",
        ".cfi_endproc",
        f = sym may_panic,
    )
}

extern "sysv64-unwind" fn may_panic() {
    panic!("unwind");
}
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>

<p>For more information on the <code>cfi</code> assembler directives above, see these resources:</p>
<ul>
<li><a href="https://sourceware.org/binutils/docs/as/CFI-directives.html">Using <code>as</code> - CFI directives</a></li>
<li><a href="https://dwarfstd.org/doc/DWARF5.pdf">DWARF Debugging Information Format Version 5</a></li>
<li><a href="https://www.imperialviolet.org/2017/01/18/cfi.html">ImperialViolet - CFI directives in assembly files</a></li>
</ul>
</blockquote>
</div>

<div class="rule" id="r-asm.validity"><a class="rule-link" href="#r-asm.validity" title="asm.validity"><span>[asm<wbr>.validity]</span></a>
</div>

<h3 id="correctness-and-validity"><a class="header" href="#correctness-and-validity">Correctness and validity</a></h3>
<div class="rule" id="r-asm.validity.necessary-but-not-sufficient"><a class="rule-link" href="#r-asm.validity.necessary-but-not-sufficient" title="asm.validity.necessary-but-not-sufficient"><span>[asm<wbr>.validity<wbr>.necessary-but-not-sufficient]</span></a>
</div>

<p>In addition to all of the previous rules, the string argument to <code>asm!</code> must ultimately become—after all other arguments are evaluated, formatting is performed, and operands are translated—assembly that is both syntactically correct and semantically valid for the target architecture. The formatting rules allow the compiler to generate assembly with correct syntax. Rules concerning operands permit valid translation of Rust operands into and out of the assembly code. Adherence to these rules is necessary, but not sufficient, for the final expanded assembly to be both correct and valid. For instance:</p>
<ul>
<li>인자들이 포맷팅된 후 구문적으로 잘못된 위치에 배치될 수 있습니다.</li>
<li>명령어는 올바르게 작성되었으나 아키텍처적으로 유효하지 않은 피연산자가 제공될 수 있습니다.</li>
<li>아키텍처적으로 명시되지 않은 명령어가 명시되지 않은 코드로 어셈블될 수 있습니다.</li>
<li>각각은 정확하고 유효한 명령어 집합일지라도, 연달아 배치될 경우 정의되지 않은 동작을 초래할 수 있습니다.</li>
</ul>
<div class="rule" id="r-asm.validity.non-exhaustive"><a class="rule-link" href="#r-asm.validity.non-exhaustive" title="asm.validity.non-exhaustive"><span>[asm<wbr>.validity<wbr>.non-exhaustive]</span></a>
</div>

<p>결과적으로, 이러한 규칙들은 <em>비포괄적(non-exhaustive)</em> 입니다. 컴파일러는 초기 문자열이나 최종적으로 생성된 어셈블리의 정확성과 유효성을 검사할 의무가 없습니다. 어셈블러는 정확성과 유효성을 검사할 수도 있지만 반드시 그래야 하는 것은 아닙니다. <code>asm!</code> 을 사용할 때, 오타 하나만으로도 프로그램이 불안정해질 수 있으며, 어셈블리 규칙에는 수천 페이지 분량의 아키텍처 참조 매뉴얼이 포함될 수 있습니다. 프로그래머는 이 <code>unsafe</code> 기능을 호출하는 것이 컴파일러와 아키텍처 양쪽의 규칙을 위반하지 않을 책임을 지는 것임을 인지하고 적절한 주의를 기울여야 합니다.</p>
<div class="rule" id="r-asm.directives"><a class="rule-link" href="#r-asm.directives" title="asm.directives"><span>[asm<wbr>.directives]</span></a>
</div>

<h3 id="directives-support"><a class="header" href="#directives-support">Directives support</a></h3>
<div class="rule" id="r-asm.directives.subset-supported"><a class="rule-link" href="#r-asm.directives.subset-supported" title="asm.directives.subset-supported"><span>[asm<wbr>.directives<wbr>.subset-supported]</span></a>
</div>

<p>인라인 어셈블리는 다음과 같이 GNU AS와 LLVM 내부 어셈블러 양쪽에서 지원하는 지시어의 하위 집합을 지원합니다. 다른 지시어를 사용한 결과는 어셈블러에 따라 다르며(오류를 발생시키거나 그대로 수용될 수 있음).</p>
<div class="rule" id="r-asm.directives.stateful"><a class="rule-link" href="#r-asm.directives.stateful" title="asm.directives.stateful"><span>[asm<wbr>.directives<wbr>.stateful]</span></a>
</div>

<p>If inline assembly includes any “stateful” directive that modifies how subsequent assembly is processed, the assembly code must undo the effects of any such directives before the inline assembly ends.</p>
<div class="rule" id="r-asm.directives.supported-directives"><a class="rule-link" href="#r-asm.directives.supported-directives" title="asm.directives.supported-directives"><span>[asm<wbr>.directives<wbr>.supported-directives]</span></a>
</div>

<p>다음 지시어들은 어셈블러에 의해 지원됨이 보장됩니다:</p>
<ul>
<li><code>.2byte</code></li>
<li><code>.4byte</code></li>
<li><code>.8byte</code></li>
<li><code>.align</code></li>
<li><code>.alt_entry</code></li>
<li><code>.ascii</code></li>
<li><code>.asciz</code></li>
<li><code>.balign</code></li>
<li><code>.balignl</code></li>
<li><code>.balignw</code></li>
<li><code>.bss</code></li>
<li><code>.byte</code></li>
<li><code>.comm</code></li>
<li><code>.data</code></li>
<li><code>.def</code></li>
<li><code>.double</code></li>
<li><code>.endef</code></li>
<li><code>.equ</code></li>
<li><code>.equiv</code></li>
<li><code>.eqv</code></li>
<li><code>.fill</code></li>
<li><code>.float</code></li>
<li><code>.global</code></li>
<li><code>.globl</code></li>
<li><code>.inst</code></li>
<li><code>.insn</code></li>
<li><code>.lcomm</code></li>
<li><code>.long</code></li>
<li><code>.octa</code></li>
<li><code>.option</code></li>
<li><code>.p2align</code></li>
<li><code>.popsection</code></li>
<li><code>.private_extern</code></li>
<li><code>.pushsection</code></li>
<li><code>.quad</code></li>
<li><code>.scl</code></li>
<li><code>.section</code></li>
<li><code>.set</code></li>
<li><code>.short</code></li>
<li><code>.size</code></li>
<li><code>.skip</code></li>
<li><code>.sleb128</code></li>
<li><code>.space</code></li>
<li><code>.string</code></li>
<li><code>.text</code></li>
<li><code>.type</code></li>
<li><code>.uleb128</code></li>
<li><code>.word</code></li>
</ul>
<pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">#[cfg(target_arch = "x86_64")] {
</span>let bytes: *const u8;
let len: usize;
unsafe {
    core::arch::asm!(
        "jmp 3f", "2: .ascii \"Hello World!\"",
        "3: lea {bytes}, [2b+rip]",
        "mov {len}, 12",
        bytes = out(reg) bytes,
        len = out(reg) len
    );
}

let s = unsafe { core::str::from_utf8_unchecked(core::slice::from_raw_parts(bytes, len)) };

assert_eq!(s, "Hello World!");
<span class="boring">}
</span><span class="boring">}</span></code></pre>
<div class="rule" id="r-asm.target-specific-directives"><a class="rule-link" href="#r-asm.target-specific-directives" title="asm.target-specific-directives"><span>[asm<wbr>.target-specific-directives]</span></a>
</div>

<h4 id="target-specific-directive-support"><a class="header" href="#target-specific-directive-support">Target specific directive support</a></h4>
<div class="rule" id="r-asm.target-specific-directives.dwarf-unwinding"><a class="rule-link" href="#r-asm.target-specific-directives.dwarf-unwinding" title="asm.target-specific-directives.dwarf-unwinding"><span>[asm<wbr>.target-specific-directives<wbr>.dwarf-unwinding]</span></a>
</div>

<h5 id="dwarf-unwinding"><a class="header" href="#dwarf-unwinding">Dwarf unwinding</a></h5>
<p>DWARF 언와인딩 정보를 지원하는 ELF 타겟에서 다음 지시어들이 지원됩니다:</p>
<ul>
<li><code>.cfi_adjust_cfa_offset</code></li>
<li><code>.cfi_def_cfa</code></li>
<li><code>.cfi_def_cfa_offset</code></li>
<li><code>.cfi_def_cfa_register</code></li>
<li><code>.cfi_endproc</code></li>
<li><code>.cfi_escape</code></li>
<li><code>.cfi_lsda</code></li>
<li><code>.cfi_offset</code></li>
<li><code>.cfi_personality</code></li>
<li><code>.cfi_register</code></li>
<li><code>.cfi_rel_offset</code></li>
<li><code>.cfi_remember_state</code></li>
<li><code>.cfi_restore</code></li>
<li><code>.cfi_restore_state</code></li>
<li><code>.cfi_return_column</code></li>
<li><code>.cfi_same_value</code></li>
<li><code>.cfi_sections</code></li>
<li><code>.cfi_signal_frame</code></li>
<li><code>.cfi_startproc</code></li>
<li><code>.cfi_undefined</code></li>
<li><code>.cfi_window_save</code></li>
</ul>
<div class="rule" id="r-asm.target-specific-directives.structured-exception-handling"><a class="rule-link" href="#r-asm.target-specific-directives.structured-exception-handling" title="asm.target-specific-directives.structured-exception-handling"><span>[asm<wbr>.target-specific-directives<wbr>.structured-exception-handling]</span></a>
</div>

<h5 id="structured-exception-handling"><a class="header" href="#structured-exception-handling">Structured exception handling</a></h5>
<p>구조화된 예외 처리를 사용하는 타겟에서는 다음의 추가 지시어들이 지원됨이 보장됩니다:</p>
<ul>
<li><code>.seh_endproc</code></li>
<li><code>.seh_endprologue</code></li>
<li><code>.seh_proc</code></li>
<li><code>.seh_pushreg</code></li>
<li><code>.seh_savereg</code></li>
<li><code>.seh_setframe</code></li>
<li><code>.seh_stackalloc</code></li>
</ul>
<div class="rule" id="r-asm.target-specific-directives.x86"><a class="rule-link" href="#r-asm.target-specific-directives.x86" title="asm.target-specific-directives.x86"><span>[asm<wbr>.target-specific-directives<wbr>.x86]</span></a>
</div>

<h5 id="x86-32비트-및-64비트"><a class="header" href="#x86-32비트-및-64비트">x86 (32비트 및 64비트)</a></h5>
<p>32비트 및 64비트 x86 타겟 모두에서 다음의 추가 지시어들이 지원됨이 보장됩니다:</p>
<ul>
<li><code>.nops</code></li>
<li><code>.code16</code></li>
<li><code>.code32</code></li>
<li><code>.code64</code></li>
</ul>
<p>Use of <code>.code16</code>, <code>.code32</code>, and <code>.code64</code> directives are only supported if the state is reset to the default before exiting the assembly code. 32-bit x86 uses <code>.code32</code> by default, and x86_64 uses <code>.code64</code> by default.</p>
<div class="rule" id="r-asm.target-specific-directives.arm-32-bit"><a class="rule-link" href="#r-asm.target-specific-directives.arm-32-bit" title="asm.target-specific-directives.arm-32-bit"><span>[asm<wbr>.target-specific-directives<wbr>.arm-32-bit]</span></a>
</div>

<h5 id="arm-32비트"><a class="header" href="#arm-32비트">ARM (32비트)</a></h5>
<p>ARM에서 다음의 추가 지시어들이 지원됨이 보장됩니다:</p>
<ul>
<li><code>.even</code></li>
<li><code>.fnstart</code></li>
<li><code>.fnend</code></li>
<li><code>.save</code></li>
<li><code>.movsp</code></li>
<li><code>.code</code></li>
<li><code>.thumb</code></li>
<li><code>.thumb_func</code></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="linkage.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="unsafety.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="linkage.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="unsafety.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->
        <script src="theme/reference-da60281b.js"></script>
        <script src="theme/language-picker-0917ae23.js"></script>



    </div>
    </body>
</html>
